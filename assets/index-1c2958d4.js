import{j as c}from"./jsx-runtime-94f6e698.js";import{r as a,R as P}from"./index-8db94870.js";import{c as O}from"./index-64131664.js";import"./index-bf1e8e0b.js";import{P as E}from"./index-1fc0ca9a.js";import{c as W,b as B}from"./isObject-3c28966c.js";import{B as V}from"./index-12b19a9d.js";var F="[object Number]";function q(e){return typeof e=="number"||W(e)&&B(e)==F}function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},H.apply(this,arguments)}function G(e,t){if(e==null)return{};var s=J(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function J(e,t){if(e==null)return{};var s={},r=Object.keys(e),o,l;for(l=0;l<r.length;l++)o=r[l],!(t.indexOf(o)>=0)&&(s[o]=e[o]);return s}var R=a.forwardRef(function(e,t){var s=e.color,r=s===void 0?"currentColor":s,o=e.size,l=o===void 0?24:o,u=G(e,["color","size"]);return P.createElement("svg",H({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),P.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),P.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});R.propTypes={color:E.string,size:E.oneOfType([E.string,E.number])};R.displayName="Copy";const K=R;var A={};Object.defineProperty(A,"__esModule",{value:!0});const Q=a,M=function(e){let t="";return typeof e=="string"?t=e:typeof e=="number"?t=e.toString():e instanceof Array?e.forEach(function(s){t+=M(s)}):(0,Q.isValidElement)(e)&&(t+=M(e.props.children)),t};var U=A.default=M;const X="_table_y9e88_413",Y="_header_y9e88_425",Z="_title_y9e88_431",ee="_hovered_y9e88_438",te="_row_y9e88_448",re="_cell_y9e88_451",oe="_hidden_y9e88_493",ne="_dragging_y9e88_515",se="_restoring_y9e88_520",ie="_fixed_y9e88_525",le="_shadow_y9e88_529",n={table:X,header:Y,title:Z,hovered:ee,"title-content":"_title-content_y9e88_442",row:te,cell:re,"drop-left":"_drop-left_y9e88_468","drop-right":"_drop-right_y9e88_469","cell-content-container":"_cell-content-container_y9e88_481","hovered-cell-content":"_hovered-cell-content_y9e88_489",hidden:oe,"fade-in":"_fade-in_y9e88_1",dragging:ne,restoring:se,fixed:ie,shadow:le,"copy-button-wrap":"_copy-button-wrap_y9e88_533","copy-button":"_copy-button_y9e88_533","fade-out":"_fade-out_y9e88_1","shake-horizontal":"_shake-horizontal_y9e88_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_y9e88_1","slide-in-fwd-center":"_slide-in-fwd-center_y9e88_1","scale-in-center":"_scale-in-center_y9e88_1","slide-in-right":"_slide-in-right_y9e88_1","slide-out-right":"_slide-out-right_y9e88_1","scale-in-top":"_scale-in-top_y9e88_1","scale-out-top":"_scale-out-top_y9e88_1","swing-in-top-fwd":"_swing-in-top-fwd_y9e88_1","fade-in-top":"_fade-in-top_y9e88_1","fade-out-top":"_fade-out-top_y9e88_1","fade-in-bottom":"_fade-in-bottom_y9e88_1","fade-out-bottom":"_fade-out-bottom_y9e88_1","scale-out-horizontal":"_scale-out-horizontal_y9e88_1"},j=a.createContext({tableState:{titles:[]},setTableState:()=>{},fixedTitleCount:0,isLeftScrolled:!1}),ae=({className:e,children:t,fixedTitleCount:s})=>{const[r,o]=a.useState({titles:[]}),[l,u]=a.useState(!1),p=a.useMemo(()=>({tableState:r,setTableState:o,fixedTitleCount:s,isLeftScrolled:l}),[s,r,l]);return c.jsx("article",{className:O(`${n.table} ${e}`),onScroll:g=>u(g.currentTarget.scrollLeft>0),children:c.jsx("table",{children:c.jsx(j.Provider,{value:p,children:t})})})},ce=({children:e,className:t})=>{const s=a.Children.count(e),{setTableState:r,tableState:{titles:o}}=a.useContext(j);a.useEffect(()=>{r(u=>({...u,titles:Array.from({length:s},(p,g)=>({order:{origin:g,current:g}}))}))},[s,r]);const l=a.Children.toArray(e);return c.jsx("thead",{className:O(`${n.header} ${t}`),children:c.jsx("tr",{children:o.map(({order:{origin:u}})=>l[u])})})},de=({children:e,width:t,className:s})=>{var x,f;const{tableState:r,setTableState:o,fixedTitleCount:l,isLeftScrolled:u}=a.useContext(j),{titles:p}=r,g=a.useRef(null);a.useEffect(()=>{const{current:i}=g;if(i){const{offsetWidth:w,cellIndex:C}=i;o(T=>(T.titles[C].width=t??w,{...T}))}},[g,o,t]);const d=((x=g.current)==null?void 0:x.cellIndex)??-1,{draggingOrder:_,hoveredOrder:L,dropOrder:y}=r,b=i=>{_===void 0&&o(w=>({...w,hoveredOrder:i}))},S=()=>{if(q(_)&&d>=0){let i=[...p];const[w]=i.splice(_,1);i=i.sort((D,k)=>D.order.current-k.order.current);const{order:C}=p[d];i=[...i.slice(0,C.current),w,...i.slice(C.current)],i.forEach((D,k)=>{D.order.current=k});const T={...r,titles:i,dropOrder:void 0,draggingOrder:void 0,hoveredOrder:void 0};o(T),setTimeout(()=>o({...T,hoveredOrder:d}))}};let m=0;for(let i=0;i<d;i+=1)m+=((f=p[i])==null?void 0:f.width)??0;const h=y===d,v=_===d,N=d<l,z=d===l-1,$=L===d;return c.jsx("th",{style:{left:m},className:O(`${n.title} ${N&&n.fixed} ${z&&u&&n.shadow} ${$&&n.hovered} ${h&&(v||((_??0)>y?n["drop-left"]:n["drop-right"]))} ${v&&(h?n.restoring:n.dragging)} 

        } ${v&&(h?n.restoring:n.dragging)} ${s}`),ref:g,draggable:!0,onMouseEnter:()=>b(d),onMouseLeave:()=>b(),onDragOver:i=>i.preventDefault(),onDragStart:()=>o(i=>({...i,draggingOrder:d})),onDragEnter:()=>o(i=>({...i,dropOrder:d})),onDrop:S,children:c.jsx("div",{className:n["title-content"],style:{width:t},children:e})})},_e=({children:e,className:t})=>c.jsx("tbody",{className:t,children:e}),ue=({children:e,className:t})=>{const{tableState:{titles:s}}=a.useContext(j),r=a.Children.toArray(e);return c.jsx("tr",{className:O(`${n.row} ${t}`),children:s.map(({order:{origin:o}})=>r[o])})},fe=({children:e,onCopy:t,className:s})=>{var $,x;const{tableState:{titles:r,hoveredOrder:o,draggingOrder:l,dropOrder:u},fixedTitleCount:p,isLeftScrolled:g}=a.useContext(j),d=a.useRef(null),_=(($=d.current)==null?void 0:$.cellIndex)??-1,{width:L}=r[_??0]??{};let y=0;for(let f=0;f<_;f+=1)y+=((x=r[f])==null?void 0:x.width)??0;const[b,S]=a.useState(!1),m=u===_,h=l===_,v=_<p,N=_===p-1,z=o===_;return c.jsx("td",{ref:d,style:{left:y},className:O(`${n.cell} ${v&&n.fixed} ${N&&g&&n.shadow} ${z&&n.hovered} ${m&&(h||((l??0)>u?n["drop-left"]:n["drop-right"]))} ${h&&(m?n.restoring:n.dragging)} ${s}`),children:c.jsxs("div",{style:{width:L},className:n["cell-content-container"],onMouseEnter:({currentTarget:f})=>{(f.scrollWidth>f.clientWidth||t)&&S(!0)},onMouseLeave:()=>S(!1),children:[b?c.jsx("div",{className:n.hidden,children:e}):e,b?c.jsxs("div",{className:n["hovered-cell-content"],children:[e,t?c.jsx("div",{className:n["copy-button-wrap"],children:c.jsx(V,{className:n["copy-button"],size:"small",shape:"round",theme:"bluish-gray700/0",icon:c.jsx(K,{size:14}),onClick:()=>{const f=U(e);navigator.clipboard.writeText(f),t==null||t(f)}})}):null]}):null]})})},I=Object.assign(ae,{Header:ce,Title:de,Body:_e,Row:ue,Cell:fe});try{I.displayName="Table",I.__docgenInfo={description:"",displayName:"Table",props:{fixedTitleCount:{defaultValue:null,description:"",name:"fixedTitleCount",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{I as T};
//# sourceMappingURL=index-1c2958d4.js.map
