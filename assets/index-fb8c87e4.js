import{j as c}from"./jsx-runtime-94f6e698.js";import{r as a,R as H}from"./index-8db94870.js";import{_ as M}from"./index-d384cd4d.js";import{c as w}from"./index-64131664.js";import"./index-2f3392c0.js";import{P as L}from"./index-1fc0ca9a.js";import{b as W,c as A}from"./isObject-9c705d90.js";import{B}from"./index-18098115.js";var F="[object Number]";function V(e){return typeof e=="number"||W(e)&&A(e)==F}function P(){return P=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}function q(e,s){if(e==null)return{};var n=G(e,s),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function G(e,s){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(s.indexOf(o)>=0)&&(n[o]=e[o]);return n}var R=a.forwardRef(function(e,s){var n=e.color,r=n===void 0?"currentColor":n,o=e.size,i=o===void 0?24:o,f=q(e,["color","size"]);return H.createElement("svg",P({ref:s,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},f),H.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),H.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});R.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};R.displayName="Copy";const J=R,K="_table_8bl8s_461",Q="_header_8bl8s_476",U="_title_8bl8s_482",X="_hovered_8bl8s_490",Y="_row_8bl8s_500",Z="_cell_8bl8s_503",ee="_overflow_8bl8s_541",te="_hidden_8bl8s_551",re="_dragging_8bl8s_577",oe="_restoring_8bl8s_582",se="_fixed_8bl8s_587",le="_shadow_8bl8s_591",t={table:K,"fade-in":"_fade-in_8bl8s_1",header:Q,title:U,hovered:X,"title-content":"_title-content_8bl8s_494",row:Y,cell:Z,"drop-left":"_drop-left_8bl8s_521","drop-right":"_drop-right_8bl8s_522","cell-content-container":"_cell-content-container_8bl8s_534",overflow:ee,"not-overflow":"_not-overflow_8bl8s_544","hovered-cell-content-wrap":"_hovered-cell-content-wrap_8bl8s_547",hidden:te,"has-style":"_has-style_8bl8s_573",dragging:re,restoring:oe,fixed:se,shadow:le,"hovered-cell-content":"_hovered-cell-content_8bl8s_547","copy-button-wrap":"_copy-button-wrap_8bl8s_602","fade-out":"_fade-out_8bl8s_1","shake-horizontal":"_shake-horizontal_8bl8s_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_8bl8s_1","slide-in-fwd-center":"_slide-in-fwd-center_8bl8s_1","scale-in-center":"_scale-in-center_8bl8s_1","slide-in-right":"_slide-in-right_8bl8s_1","slide-in-left":"_slide-in-left_8bl8s_1","slide-out-right":"_slide-out-right_8bl8s_1","slide-out-left":"_slide-out-left_8bl8s_1","scale-in-top":"_scale-in-top_8bl8s_1","scale-out-top":"_scale-out-top_8bl8s_1","swing-in-top-fwd":"_swing-in-top-fwd_8bl8s_1","fade-in-top":"_fade-in-top_8bl8s_1","fade-out-top":"_fade-out-top_8bl8s_1","fade-in-bottom":"_fade-in-bottom_8bl8s_1","fade-out-bottom":"_fade-out-bottom_8bl8s_1","scale-out-horizontal":"_scale-out-horizontal_8bl8s_1"},O=a.createContext({tableState:{titles:[]},setTableState:()=>{},fixedTitleCount:0,isLeftScrolled:!1}),ne=({className:e,children:s,fixedTitleCount:n})=>{const[r,o]=a.useState({titles:[]}),[i,f]=a.useState(!1),g=a.useMemo(()=>({tableState:r,setTableState:o,fixedTitleCount:n,isLeftScrolled:i}),[n,r,i]);return c.jsx("article",{className:w(`${t.table} ${e}`),onScroll:u=>f(u.currentTarget.scrollLeft>0),children:c.jsx("table",{children:c.jsx(O.Provider,{value:g,children:s})})})},ie=({children:e,className:s})=>{const n=a.Children.count(e),{setTableState:r,tableState:{titles:o}}=a.useContext(O);a.useEffect(()=>{r(f=>({...f,titles:Array.from({length:n},(g,u)=>({order:{origin:u,current:u}}))}))},[n,r]);const i=a.Children.toArray(e);return c.jsx("thead",{className:w(`${t.header} ${s}`),children:c.jsx("tr",{children:o.map(({order:{origin:f}})=>i[f])})})},ae=({children:e,width:s,className:n})=>{var N,C;const{tableState:r,setTableState:o,fixedTitleCount:i,isLeftScrolled:f}=a.useContext(O),{titles:g}=r,u=a.useRef(null);a.useEffect(()=>{const{current:l}=u;if(l){const{offsetWidth:p,cellIndex:m}=l;o(d=>(d.titles[m].width=p,{...d}))}},[u,o,s]);const _=((N=u.current)==null?void 0:N.cellIndex)??-1,{draggingOrder:h,hoveredOrder:j,dropOrder:b}=r,y=l=>{h===void 0&&o(p=>({...p,hoveredOrder:l}))},$=()=>{if(V(h)&&_>=0){let l=[...g];const[p]=l.splice(h,1);l=l.sort((D,k)=>D.order.current-k.order.current);const{order:m}=g[_];l=[...l.slice(0,m.current),p,...l.slice(m.current)],l.forEach((D,k)=>{D.order.current=k});const d={...r,titles:l,dropOrder:void 0,draggingOrder:void 0,hoveredOrder:void 0};o(d),setTimeout(()=>o({...d,hoveredOrder:_}))}};let T=0;for(let l=0;l<_;l+=1)T+=((C=g[l])==null?void 0:C.width)??0;const v=b===_,x=h===_,S=_<i,E=_===i-1,z=j===_;return c.jsx("th",{style:{left:T,width:s},className:w(`${t.title} ${S&&t.fixed} ${E&&f&&t.shadow} ${z&&t.hovered} ${v&&(x||((h??0)>b?t["drop-left"]:t["drop-right"]))} ${x&&(v?t.restoring:t.dragging)} 

        } ${x&&(v?t.restoring:t.dragging)} ${n}`),ref:u,draggable:!0,onMouseEnter:()=>y(_),onMouseLeave:()=>y(),onDragOver:l=>l.preventDefault(),onDragStart:()=>o(l=>({...l,draggingOrder:_})),onDragEnter:()=>o(l=>({...l,dropOrder:_})),onDrop:$,children:c.jsx("div",{className:t["title-content"],children:e})})},de=({children:e,className:s})=>c.jsx("tbody",{className:s,children:e}),ce=({children:e,className:s})=>{const{tableState:{titles:n}}=a.useContext(O),r=a.Children.toArray(e);return c.jsx("tr",{className:w(`${t.row} ${s}`),children:n.map(({order:{origin:o}})=>r[o])})},_e=({children:e,onCopy:s,className:n,hoverStyle:r})=>{var p,m;const{tableState:{titles:o,hoveredOrder:i,draggingOrder:f,dropOrder:g},fixedTitleCount:u,isLeftScrolled:_,setTableState:h}=a.useContext(O),j=a.useRef(null),b=((p=j.current)==null?void 0:p.cellIndex)??-1,{width:y}=o[b??0]??{};let $=0;for(let d=0;d<b;d+=1)$+=((m=o[d])==null?void 0:m.width)??0;const[T,v]=a.useState(!1),x=g===b,S=f===b,E=b<u,z=b===u-1,N=i===b;a.useEffect(()=>h(d=>({...d})),[e,h]);const[C,l]=a.useState(!0);return c.jsx("td",{ref:j,style:{left:$},className:w(`${t.cell} ${E&&t.fixed} ${z&&_&&t.shadow} ${N&&t.hovered} ${x&&(S||((f??0)>g?t["drop-left"]:t["drop-right"]))} ${S&&(x?t.restoring:t.dragging)} ${n}`),children:y===void 0?null:c.jsxs("div",{style:{width:y},className:`${t["cell-content-container"]} ${C?t.overflow:t["not-overflow"]}`,onMouseEnter:({currentTarget:d})=>{d.scrollWidth>d.clientWidth?s&&v(!0):l(!1)},onMouseLeave:()=>v(!1),children:[T?c.jsx("div",{className:t.hidden,children:e}):e,T?c.jsxs("div",{className:w(`${t["hovered-cell-content-wrap"]} ${r&&t["has-style"]}`),style:r,children:[c.jsx("div",{className:t["hovered-cell-content"],children:e}),s?c.jsx("div",{className:t["copy-button-wrap"],children:c.jsx(B,{size:"small3x",shape:"round",theme:"bluish-gray700/0",icon:c.jsx(J,{size:14}),onClick:()=>{const d=M(e);navigator.clipboard.writeText(d),s==null||s(d)}})}):null]}):null]})})},I=Object.assign(ne,{Header:ie,Title:ae,Body:de,Row:ce,Cell:_e});try{I.displayName="Table",I.__docgenInfo={description:"",displayName:"Table",props:{fixedTitleCount:{defaultValue:null,description:"",name:"fixedTitleCount",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{I as T,V as i};
//# sourceMappingURL=index-fb8c87e4.js.map
