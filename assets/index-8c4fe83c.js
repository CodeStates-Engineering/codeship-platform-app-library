import{j as g}from"./jsx-runtime-94f6e698.js";import{r as m,R as E}from"./index-8db94870.js";import"./index-e3b5ba34.js";import{c as w}from"./index-64131664.js";import{u as H}from"./useTypography-0e7bc425.js";import{P as v}from"./index-1fc0ca9a.js";function j(){return j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},j.apply(this,arguments)}function L(t,e){if(t==null)return{};var i=W(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function W(t,e){if(t==null)return{};var i={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(i[s]=t[s]);return i}var k=m.forwardRef(function(t,e){var i=t.color,n=i===void 0?"currentColor":i,s=t.size,a=s===void 0?24:s,x=L(t,["color","size"]);return E.createElement("svg",j({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},x),E.createElement("polyline",{points:"20 6 9 17 4 12"}))});k.propTypes={color:v.string,size:v.oneOfType([v.string,v.number])};k.displayName="Check";const M=k,A="_options_10zcg_461",F="_closing_10zcg_471",I="_opening_10zcg_471",B="_top_10zcg_474",D="_bottom_10zcg_486",U="_selected_10zcg_574",G="_hovered_10zcg_579",J="_show_10zcg_588",l={options:A,closing:F,opening:I,top:B,"fade-in-bottom":"_fade-in-bottom_10zcg_1","fade-out-bottom":"_fade-out-bottom_10zcg_1",bottom:D,"fade-in-top":"_fade-in-top_10zcg_1","fade-out-top":"_fade-out-top_10zcg_1","option-container":"_option-container_10zcg_499","option-wrap":"_option-wrap_10zcg_514","option-item":"_option-item_10zcg_519","font-size-large4x":"_font-size-large4x_10zcg_538","font-size-large3x":"_font-size-large3x_10zcg_541","font-size-large2x":"_font-size-large2x_10zcg_544","font-size-large":"_font-size-large_10zcg_538","font-size-medium":"_font-size-medium_10zcg_550","font-size-normal":"_font-size-normal_10zcg_553","font-size-small":"_font-size-small_10zcg_556","font-size-small2x":"_font-size-small2x_10zcg_559","font-size-small3x":"_font-size-small3x_10zcg_562","font-weight-700":"_font-weight-700_10zcg_565","font-weight-500":"_font-weight-500_10zcg_568","font-weight-400":"_font-weight-400_10zcg_571",selected:U,hovered:G,"icon-wrap":"_icon-wrap_10zcg_584",show:J,"fade-in":"_fade-in_10zcg_1","fade-out":"_fade-out_10zcg_1","shake-horizontal":"_shake-horizontal_10zcg_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_10zcg_1","slide-in-fwd-center":"_slide-in-fwd-center_10zcg_1","scale-in-center":"_scale-in-center_10zcg_1","slide-in-right":"_slide-in-right_10zcg_1","slide-in-left":"_slide-in-left_10zcg_1","slide-out-right":"_slide-out-right_10zcg_1","slide-out-left":"_slide-out-left_10zcg_1","scale-in-top":"_scale-in-top_10zcg_1","scale-out-top":"_scale-out-top_10zcg_1","swing-in-top-fwd":"_swing-in-top-fwd_10zcg_1","scale-out-horizontal":"_scale-out-horizontal_10zcg_1"},$=({opened:t=!1,options:e,multiple:i=!1,value:n,onChange:s,onKeyDown:a,float:x="bottom",className:N,optionStyle:r})=>{const[p,y]=m.useState(t);m.useEffect(()=>{y(u=>u!==t?t?"opening":"closing":u)},[t]);const b=typeof p=="string",[C,z]=m.useState(-1),[V,q]=m.useMemo(()=>[{width:r==null?void 0:r.width},{maxHeight:r==null?void 0:r.maxHeight}],[r==null?void 0:r.maxHeight,r==null?void 0:r.width]);m.useEffect(()=>{if(b){const u=p==="opening";z((e==null?void 0:e.findIndex(({value:o})=>o===n))??-1);const c=setTimeout(()=>y(u),250);return()=>clearTimeout(c)}},[b,p,e,n]);const h=m.useRef([]);m.useEffect(()=>{if(p===!0&&e){const u=c=>{switch(a==null||a(c),c.key){case"ArrowUp":return c.preventDefault(),z(o=>{var _;if(o>0){const f=o-1;return(_=h.current[f])==null||_.focus(),f}return o});case"ArrowDown":return c.preventDefault(),z(o=>{var _;if(o<e.length-1){const f=o+1;return(_=h.current[f])==null||_.focus(),f}return o});case"Enter":return c.preventDefault(),z(o=>{var _;return o>=0&&((_=h.current[o])==null||_.click()),o})}};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)}},[p,e,a]);const{fontSizeClassName:P,fontWeightClassName:T}=H(r==null?void 0:r.fontSize,r==null?void 0:r.fontWeight);return p&&(e!=null&&e.length)?g.jsx("section",{style:V,className:w(`${l.options} ${l[x]} ${b&&l[p]} ${N}`),children:g.jsx("ul",{className:w(l["option-container"]),style:q,children:e==null?void 0:e.map(({label:u,value:c},o)=>{const _=o===C,f=(()=>n===void 0?!1:i&&n instanceof Array?n.includes(c):n===c)();return g.jsx("li",{className:l["option-wrap"],children:g.jsxs("button",{type:"button",ref:d=>{h.current[o]=d},className:w(`${l["option-item"]} ${l[P]} ${l[T]} ${_&&l.hovered} ${f&&l.selected}`),onClick:()=>{if(i){const d=n??[],O=s;O==null||O(f?d.filter(R=>R!==c):[...d,c])}else{const d=s;d==null||d(f?void 0:c)}},onMouseEnter:()=>{z(o)},children:[g.jsx("div",{children:u}),i?g.jsx("div",{className:w(`${l["icon-wrap"]} ${f&&l.show}`),children:g.jsx(M,{size:"1em"})}):null]})},o)})})}):g.jsx(g.Fragment,{})};try{$.displayName="Options",$.__docgenInfo={description:"",displayName:"Options",props:{opened:{defaultValue:{value:"false"},description:"",name:"opened",required:!1,type:{name:"boolean"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ label: string; value: OptionValue; }[]"}},multiple:{defaultValue:{value:"false as Multiple"},description:"",name:"multiple",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"ValidOptionValue | OptionValue[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value?: (Multiple extends true ? OptionValue[] : OptionValue)) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent) => void)"}},float:{defaultValue:{value:"bottom"},description:"",name:"float",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},optionStyle:{defaultValue:null,description:"",name:"optionStyle",required:!1,type:{name:'(Typography & Pick<CSSProperties, "width" | "maxHeight">)'}}}}}catch{}export{M as C,$ as O};
//# sourceMappingURL=index-8c4fe83c.js.map
