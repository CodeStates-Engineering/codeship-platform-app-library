import{j as c}from"./jsx-runtime-94f6e698.js";import{r as a,R as P}from"./index-8db94870.js";import{_ as W}from"./index-d384cd4d.js";import{c as T}from"./index-64131664.js";import"./index-67680543.js";import{P as z}from"./index-1fc0ca9a.js";import{b as A,c as B}from"./isObject-9c705d90.js";import{B as F}from"./index-18098115.js";var V="[object Number]";function q(e){return typeof e=="number"||A(e)&&B(e)==V}function R(){return R=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(e[t]=l[t])}return e},R.apply(this,arguments)}function G(e,s){if(e==null)return{};var l=J(e,s),t,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],!(s.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function J(e,s){if(e==null)return{};var l={},t=Object.keys(e),o,i;for(i=0;i<t.length;i++)o=t[i],!(s.indexOf(o)>=0)&&(l[o]=e[o]);return l}var I=a.forwardRef(function(e,s){var l=e.color,t=l===void 0?"currentColor":l,o=e.size,i=o===void 0?24:o,u=G(e,["color","size"]);return P.createElement("svg",R({ref:s,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),P.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),P.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});I.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};I.displayName="Copy";const K=I,Q="_table_8bl8s_461",U="_header_8bl8s_476",X="_title_8bl8s_482",Y="_hovered_8bl8s_490",Z="_row_8bl8s_500",ee="_cell_8bl8s_503",te="_overflow_8bl8s_541",re="_hidden_8bl8s_551",oe="_dragging_8bl8s_577",se="_restoring_8bl8s_582",ne="_fixed_8bl8s_587",le="_shadow_8bl8s_591",r={table:Q,"fade-in":"_fade-in_8bl8s_1",header:U,title:X,hovered:Y,"title-content":"_title-content_8bl8s_494",row:Z,cell:ee,"drop-left":"_drop-left_8bl8s_521","drop-right":"_drop-right_8bl8s_522","cell-content-container":"_cell-content-container_8bl8s_534",overflow:te,"not-overflow":"_not-overflow_8bl8s_544","hovered-cell-content-wrap":"_hovered-cell-content-wrap_8bl8s_547",hidden:re,"has-style":"_has-style_8bl8s_573",dragging:oe,restoring:se,fixed:ne,shadow:le,"hovered-cell-content":"_hovered-cell-content_8bl8s_547","copy-button-wrap":"_copy-button-wrap_8bl8s_602","fade-out":"_fade-out_8bl8s_1","shake-horizontal":"_shake-horizontal_8bl8s_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_8bl8s_1","slide-in-fwd-center":"_slide-in-fwd-center_8bl8s_1","scale-in-center":"_scale-in-center_8bl8s_1","slide-in-right":"_slide-in-right_8bl8s_1","slide-in-left":"_slide-in-left_8bl8s_1","slide-out-right":"_slide-out-right_8bl8s_1","slide-out-left":"_slide-out-left_8bl8s_1","scale-in-top":"_scale-in-top_8bl8s_1","scale-out-top":"_scale-out-top_8bl8s_1","swing-in-top-fwd":"_swing-in-top-fwd_8bl8s_1","fade-in-top":"_fade-in-top_8bl8s_1","fade-out-top":"_fade-out-top_8bl8s_1","fade-in-bottom":"_fade-in-bottom_8bl8s_1","fade-out-bottom":"_fade-out-bottom_8bl8s_1","scale-out-horizontal":"_scale-out-horizontal_8bl8s_1"},j=a.createContext({tableState:{titles:[]},setTableState:()=>{},fixedTitleCount:0,isLeftScrolled:!1,isLoading:!1}),ie=({className:e,children:s,fixedTitleCount:l})=>{const[t,o]=a.useState({titles:[]}),[i,u]=a.useState(!1),g=a.useMemo(()=>{const f=!t.titles.find(({width:h})=>!!h);return{tableState:t,setTableState:o,fixedTitleCount:l,isLeftScrolled:i,isLoading:f}},[l,t,i]);return c.jsx("article",{className:T(`${r.table} ${e}`),onScroll:f=>u(f.currentTarget.scrollLeft>0),children:c.jsx("table",{children:c.jsx(j.Provider,{value:g,children:s})})})},ae=({children:e,className:s})=>{const l=a.Children.count(e),{setTableState:t,tableState:{titles:o}}=a.useContext(j);a.useEffect(()=>{t(u=>({...u,titles:Array.from({length:l},(g,f)=>({order:{origin:f,current:f}}))}))},[l,t]);const i=a.Children.toArray(e);return c.jsx("thead",{className:T(`${r.header} ${s}`),children:c.jsx("tr",{children:o.map(({order:{origin:u}})=>i[u])})})},de=({children:e,width:s,className:l})=>{var C,E;const{tableState:t,setTableState:o,fixedTitleCount:i,isLeftScrolled:u,isLoading:g}=a.useContext(j),{titles:f}=t,h=a.useRef(null);a.useEffect(()=>{const{current:n}=h;if(n){const{offsetWidth:p,cellIndex:v}=n;(s||!g)&&o(d=>(d.titles[v].width=p,{...d}))}},[h,o,s,g]);const _=((C=h.current)==null?void 0:C.cellIndex)??-1,{draggingOrder:m,hoveredOrder:$,dropOrder:b}=t,S=n=>{m===void 0&&o(p=>({...p,hoveredOrder:n}))},N=()=>{if(q(m)&&_>=0){let n=[...f];const[p]=n.splice(m,1);n=n.sort((y,H)=>y.order.current-H.order.current);const{order:v}=f[_];n=[...n.slice(0,v.current),p,...n.slice(v.current)],n.forEach((y,H)=>{y.order.current=H});const d={...t,titles:n,dropOrder:void 0,draggingOrder:void 0,hoveredOrder:void 0};o(d),setTimeout(()=>o({...d,hoveredOrder:_}))}};let O=0;for(let n=0;n<_;n+=1)O+=((E=f[n])==null?void 0:E.width)??0;const x=b===_,w=m===_,L=_<i,D=_===i-1,k=$===_;return c.jsx("th",{style:{left:O,width:s},className:T(`${r.title} ${L&&r.fixed} ${D&&u&&r.shadow} ${k&&r.hovered} ${x&&(w||((m??0)>b?r["drop-left"]:r["drop-right"]))} ${w&&(x?r.restoring:r.dragging)} 

        } ${w&&(x?r.restoring:r.dragging)} ${l}`),ref:h,draggable:!0,onMouseEnter:()=>S(_),onMouseLeave:()=>S(),onDragOver:n=>n.preventDefault(),onDragStart:()=>o(n=>({...n,draggingOrder:_})),onDragEnter:()=>o(n=>({...n,dropOrder:_})),onDrop:N,children:c.jsx("div",{className:r["title-content"],children:e})})},ce=({children:e,className:s})=>c.jsx("tbody",{className:s,children:e}),_e=({children:e,className:s})=>{const{tableState:{titles:l}}=a.useContext(j),t=a.Children.toArray(e);return c.jsx("tr",{className:T(`${r.row} ${s}`),children:l.map(({order:{origin:o}})=>t[o])})},fe=({children:e,onCopy:s,className:l,hoverStyle:t})=>{var p,v;const{tableState:{titles:o,hoveredOrder:i,draggingOrder:u,dropOrder:g},fixedTitleCount:f,isLeftScrolled:h,setTableState:_,isLoading:m}=a.useContext(j),$=a.useRef(null),b=((p=$.current)==null?void 0:p.cellIndex)??-1,{width:S}=o[b??0]??{};let N=0;for(let d=0;d<b;d+=1)N+=((v=o[d])==null?void 0:v.width)??0;const[O,x]=a.useState(!1),w=g===b,L=u===b,D=b<f,k=b===f-1,C=i===b;a.useEffect(()=>_(d=>({...d})),[e,_]);const[E,n]=a.useState(!0);return c.jsx("td",{ref:$,style:{left:N},className:T(`${r.cell} ${D&&r.fixed} ${k&&h&&r.shadow} ${C&&r.hovered} ${w&&(L||((u??0)>g?r["drop-left"]:r["drop-right"]))} ${L&&(w?r.restoring:r.dragging)} ${l}`),children:m?null:c.jsxs("div",{style:{width:S},className:`${r["cell-content-container"]} ${E?r.overflow:r["not-overflow"]}`,onMouseEnter:({currentTarget:d})=>{const y=d.scrollWidth>d.clientWidth;(y||s)&&x(!0),y||n(!1)},onMouseLeave:()=>x(!1),children:[O?c.jsx("div",{className:r.hidden,children:e}):e,O?c.jsxs("div",{className:T(`${r["hovered-cell-content-wrap"]} ${t&&r["has-style"]}`),style:t,children:[c.jsx("div",{className:r["hovered-cell-content"],children:e}),s?c.jsx("div",{className:r["copy-button-wrap"],children:c.jsx(F,{size:"small3x",shape:"round",theme:"bluish-gray700/0",icon:c.jsx(K,{size:14}),onClick:()=>{const d=W(e);navigator.clipboard.writeText(d),s==null||s(d)}})}):null]}):null]})})},M=Object.assign(ie,{Header:ae,Title:de,Body:ce,Row:_e,Cell:fe});try{M.displayName="Table",M.__docgenInfo={description:"",displayName:"Table",props:{fixedTitleCount:{defaultValue:null,description:"",name:"fixedTitleCount",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{M as T,q as i};
//# sourceMappingURL=index-78f54016.js.map
