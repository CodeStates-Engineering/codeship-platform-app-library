{"version":3,"file":"index-6af4fdd7.js","sources":["../../../src/components/molecules/Selectbox/index.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { ChevronDown } from 'react-feather';\n\nimport type {\n  InputProps,\n  OptionsProps,\n  ValidOptionValue,\n  InputWrapProps,\n  LabelWithInputProps,\n} from '@components/atoms';\nimport { FocusLayer, Options, Input, Label } from '@components/atoms';\nimport type {\n  ValidateHandler,\n  UseTypographyClassNameParams,\n  ValidationTrigger,\n} from '@hooks';\nimport { useSubscribedState, useValidationMessage } from '@hooks';\nimport { cleanClassName } from '@utils';\n\nimport styles from './index.module.scss';\n\nexport interface SelectboxProps<\n  _ValidOptionValue = ValidOptionValue,\n  _Multiple = boolean,\n> extends Pick<\n      OptionsProps<_ValidOptionValue, _Multiple>,\n      'options' | 'float' | 'onChange' | 'value' | 'multiple' | 'optionStyle'\n    >,\n    Pick<InputProps<'button'>, 'disabled' | 'placeholder' | 'id' | 'ref'>,\n    Pick<InputWrapProps, 'onClick'>,\n    Omit<LabelWithInputProps, 'children'> {\n  validation?: ValidateHandler<SelectboxProps<_ValidOptionValue>['value']>;\n  inputStyle?: Pick<InputWrapProps, 'borderRadius' | 'size' | 'width'> &\n    UseTypographyClassNameParams;\n  validationTrigger?: ValidationTrigger;\n}\n\nexport const Selectbox = <\n  _ValidOptionValue extends ValidOptionValue = ValidOptionValue,\n  _Multiple extends boolean = false,\n>({\n  value,\n  options,\n  onChange,\n  float,\n  disabled,\n  placeholder,\n  id,\n  ref,\n  onClick,\n  label,\n  validation,\n  className,\n  inputStyle,\n  labelStyle,\n  multiple,\n  optionStyle,\n  validationTrigger,\n}: SelectboxProps<_ValidOptionValue, _Multiple>) => {\n  const [opened, setOpened] = useState(false);\n\n  const [selectedValue, setSelectedValue] = useSubscribedState(value);\n\n  const selectedOption = options?.find(({ value }) => value === selectedValue);\n\n  const { validationMessage, validateOnChange, validateOnBlur } =\n    useValidationMessage({\n      key: label,\n      validateHandler: validation,\n      value: selectedValue,\n      validationTrigger,\n    });\n\n  return (\n    <Label.WithInput\n      label={label}\n      inputStyle={inputStyle}\n      labelStyle={labelStyle}\n      className={className}\n    >\n      <FocusLayer\n        onBlur={() => setOpened(false)}\n        focused={opened}\n        className={styles.selectbox}\n        bodyScroll\n      >\n        <Input.Wrap\n          validationMessage={validationMessage}\n          size={inputStyle?.size}\n          borderRadius={inputStyle?.borderRadius}\n          width={inputStyle?.width}\n          onClick={(e) => {\n            setOpened(!opened);\n            onClick?.(e);\n          }}\n        >\n          <Input\n            id={id}\n            name={label}\n            type=\"button\"\n            ref={ref}\n            value={selectedOption?.label}\n            disabled={disabled}\n            placeholder={placeholder}\n            fontSize={inputStyle?.fontSize}\n            fontWeight={inputStyle?.fontWeight}\n            onBlur={validateOnBlur}\n          />\n          <ChevronDown\n            className={cleanClassName(\n              `${styles.arrow} ${opened && styles['opened-arrow']}`,\n            )}\n          />\n        </Input.Wrap>\n        <Options\n          opened={opened}\n          options={options}\n          multiple={multiple}\n          value={selectedValue}\n          float={float}\n          className={styles['select-box-default-width']}\n          optionStyle={optionStyle}\n          onChange={(value) => {\n            setSelectedValue?.(value);\n            validateOnChange?.(value);\n            onChange?.(value);\n            setOpened(false);\n          }}\n        />\n      </FocusLayer>\n    </Label.WithInput>\n  );\n};\n"],"names":["Selectbox","value","options","onChange","float","disabled","placeholder","id","ref","onClick","label","validation","className","inputStyle","labelStyle","multiple","optionStyle","validationTrigger","opened","setOpened","useState","selectedValue","setSelectedValue","useSubscribedState","selectedOption","value2","validationMessage","validateOnChange","validateOnBlur","useValidationMessage","jsx","Label","jsxs","FocusLayer","styles","Input","e","ChevronDown","cleanClassName","Options"],"mappings":"kjBAqCOA,EAAA,CAAA,CAGL,MAAAC,EACA,QAAAC,EACA,SAAAC,EACA,MAAAC,EACA,SAAAC,EACA,YAAAC,EACA,GAAAC,EACA,IAAAC,EACA,QAAAC,EACA,MAAAC,EACA,WAAAC,EACA,UAAAC,EACA,WAAAC,EACA,WAAAC,EACA,SAAAC,EACA,YAAAC,EACA,kBAAAC,CAEF,IAAA,CACE,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EAEA,CAAAC,EAAAC,CAAA,EAAAC,EAAAtB,CAAA,EAEAuB,EAAAtB,GAAA,YAAAA,EAAA,KAAA,CAAA,CAAA,MAAAuB,CAAA,IAAAA,IAAAJ,GAEA,CAAA,kBAAAK,EAAA,iBAAAC,EAAA,eAAAC,CAAA,EAAAC,EAAA,CACuB,IAAAnB,EACd,gBAAAC,EACY,MAAAU,EACV,kBAAAJ,CACP,CAAA,EAGJ,OAAAa,EAAA,IACEC,EAAA,UAAO,CAAN,MAAArB,EACC,WAAAG,EACA,WAAAC,EACA,UAAAF,EACA,SAAAoB,EAAA,KAEAC,EAAC,CAAA,OAAA,IAAAd,EAAA,EAAA,EAC8B,QAAAD,EACpB,UAAAgB,EAAA,UACS,WAAA,GACR,SAAA,CAEVF,EAAA,KAAAG,EAAA,KAAO,CAAN,kBAAAT,EACC,KAAAb,GAAA,YAAAA,EAAA,KACkB,aAAAA,GAAA,YAAAA,EAAA,aACQ,MAAAA,GAAA,YAAAA,EAAA,MACP,QAAAuB,GAAA,CAEjBjB,EAAA,CAAAD,CAAA,EACAT,GAAA,MAAAA,EAAA2B,EAAW,EACb,SAAA,CAEAN,EAAA,IAAAK,EAAC,CAAA,GAAA5B,EACC,KAAAG,EACM,KAAA,SACD,IAAAF,EACL,MAAAgB,GAAA,YAAAA,EAAA,MACuB,SAAAnB,EACvB,YAAAC,EACA,SAAAO,GAAA,YAAAA,EAAA,SACsB,WAAAA,GAAA,YAAAA,EAAA,WACE,OAAAe,CAChB,CAAA,EACVE,EAAA,IACAO,EAAC,CAAA,UAAAC,EACY,GAAAJ,EAAA,SAAAhB,GAAAgB,EAAA,cAAA,GACyC,CACpD,CAAA,CACF,CAAA,CAAA,EACFJ,EAAA,IACAS,EAAC,CAAA,OAAArB,EACC,QAAAhB,EACA,SAAAa,EACA,MAAAM,EACO,MAAAjB,EACP,UAAA8B,EAAA,0BAAA,EAC4C,YAAAlB,EAC5C,SAAAS,GAAA,CAEEH,GAAA,MAAAA,EAAAG,GACAE,GAAA,MAAAA,EAAAF,GACAtB,GAAA,MAAAA,EAAAsB,GACAN,EAAA,EAAA,CAAe,CACjB,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAGN"}