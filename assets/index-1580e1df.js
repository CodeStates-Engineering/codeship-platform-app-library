import{j as _}from"./jsx-runtime-94f6e698.js";import{r as p,R as N}from"./index-8db94870.js";import{C as q}from"./index-e3b5ba34.js";import{c as j}from"./index-64131664.js";import{P as b}from"./index-1fc0ca9a.js";function E(){return E=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}return n},E.apply(this,arguments)}function R(n,r){if(n==null)return{};var i=S(n,r),e,s;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(s=0;s<c.length;s++)e=c[s],!(r.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function S(n,r){if(n==null)return{};var i={},e=Object.keys(n),s,c;for(c=0;c<e.length;c++)s=e[c],!(r.indexOf(s)>=0)&&(i[s]=n[s]);return i}var V=p.forwardRef(function(n,r){var i=n.color,e=i===void 0?"currentColor":i,s=n.size,c=s===void 0?24:s,g=R(n,["color","size"]);return N.createElement("svg",E({ref:r,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},g),N.createElement("polyline",{points:"20 6 9 17 4 12"}))});V.propTypes={color:b.string,size:b.oneOfType([b.string,b.number])};V.displayName="Check";const T=V,A="_options_6kkxa_389",W="_closing_6kkxa_398",H="_opening_6kkxa_398",B="_top_6kkxa_401",U="_bottom_6kkxa_413",F="_selected_6kkxa_462",G="_hovered_6kkxa_466",d={options:A,closing:W,opening:H,top:B,"fade-in-bottom":"_fade-in-bottom_6kkxa_1","fade-out-bottom":"_fade-out-bottom_6kkxa_1",bottom:U,"fade-in-top":"_fade-in-top_6kkxa_1","fade-out-top":"_fade-out-top_6kkxa_1","option-container":"_option-container_6kkxa_426","mouse-hover-enabled":"_mouse-hover-enabled_6kkxa_441","option-item":"_option-item_6kkxa_441",selected:F,hovered:G,"check-icon-wrap":"_check-icon-wrap_6kkxa_470","fade-in":"_fade-in_6kkxa_1","fade-out":"_fade-out_6kkxa_1","shake-horizontal":"_shake-horizontal_6kkxa_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_6kkxa_1","slide-in-fwd-center":"_slide-in-fwd-center_6kkxa_1","scale-in-center":"_scale-in-center_6kkxa_1","slide-in-right":"_slide-in-right_6kkxa_1","slide-out-right":"_slide-out-right_6kkxa_1","scale-in-top":"_scale-in-top_6kkxa_1","scale-out-top":"_scale-out-top_6kkxa_1","swing-in-top-fwd":"_swing-in-top-fwd_6kkxa_1"},M=({opened:n=!1,options:r,multiple:i,value:e,onSelect:s,onKeyDown:c,float:g="bottom",className:z})=>{const x=p.useMemo(()=>r==null?void 0:r.map(()=>p.createRef()),[r]),u=p.useMemo(()=>x&&(r==null?void 0:r.map((o,a)=>{let l=!1;return e&&(l=e instanceof Array?e.some(t=>o.value===t.value&&o.label===t.label):e.value===o.value&&e.label===o.label),{option:o,ref:x[a],isAlreadySelected:l}})),[r,x,e]),[$,y]=p.useState(-1),[m,C]=p.useState(n);q.useLayoutEffect(()=>{C(o=>o!==n?n?"opening":"closing":o)},[n]);const v=typeof m=="string";q.useLayoutEffect(()=>{var o,a;if(v){const l=m==="opening";if(l){y(-1);const f=(o=u==null?void 0:u.find(({isAlreadySelected:O})=>O))==null?void 0:o.ref;f&&((a=f.current)==null||a.scrollIntoView({block:"start"}))}const t=setTimeout(()=>C(l),250);return()=>clearTimeout(t)}},[m,v,u]);const h=u==null?void 0:u[$],k=p.useMemo(()=>s&&(i?(o,a,l)=>{const t=o,f=s;return f(t?l?t.filter(({label:O,value:P})=>O!==a.label||P!==a.value):[...t,a]:[a])}:(o,a,l)=>{const t=o,f=s;return f(t&&l?void 0:a)}),[i,s]),[w,L]=p.useState(!1);return p.useEffect(()=>{if(m===!0&&u){const o=a=>{const{key:l}=a;switch(l){case"Enter":return a.preventDefault(),h&&(k==null?void 0:k(e,h.option,h.isAlreadySelected));case"ArrowUp":case"ArrowDown":return L(!0),a.preventDefault(),y(t=>{var f;return l==="ArrowDown"?t=t<u.length-1?t+1:t:t=t>0?t-1:0,(f=u[t].ref.current)==null||f.scrollIntoView({block:"start"}),t});default:return c==null?void 0:c(a)}};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)}},[k,c,m,u,h,e]),m&&(u!=null&&u.length)?_.jsx("section",{className:j(`${d.options} ${d[g]} ${v&&d[m]} ${z}`),children:_.jsx("ul",{className:j(`${d["option-container"]} ${!w&&d["mouse-hover-enabled"]}`),children:u.map(({option:o,ref:a,isAlreadySelected:l},t)=>_.jsx("li",{children:_.jsxs("button",{type:"button",ref:a,className:j(`${d["option-item"]} ${w&&$===t&&d.hovered} ${l&&d.selected}`),onClick:()=>k==null?void 0:k(e,o,l),onMouseEnter:()=>m===!0&&!w&&y(t),onMouseMove:()=>L(!1),children:[_.jsx("div",{children:o.label}),i?_.jsx("div",{className:d["check-icon-wrap"],children:l?_.jsx(T,{}):null}):null]})},t))})}):_.jsx(_.Fragment,{})};try{M.displayName="Options",M.__docgenInfo={description:"",displayName:"Options",props:{opened:{defaultValue:{value:"false"},description:"",name:"opened",required:!1,type:{name:"boolean"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"_Option[]"}},multiple:{defaultValue:null,description:"",name:"multiple",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"Option<ValidOptionValue> | _Option[]"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"((option?: OptionsValue<_Option, _Multiple>) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent) => void)"}},float:{defaultValue:{value:"bottom"},description:"",name:"float",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{T as C,M as O};
//# sourceMappingURL=index-1580e1df.js.map
