{"version":3,"file":"index-32c2ffb0.js","sources":["../../../src/components/molecules/Selectbox/index.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { ChevronDown } from 'react-feather';\n\nimport type {\n  InputProps,\n  OptionsProps,\n  ValidOptionValue,\n  InputWrapProps,\n  LabelWithInputProps,\n} from '@components/atoms';\nimport { FocusLayer, Options, Input, Label } from '@components/atoms';\nimport type { ValidateHandler, UseTypographyClassNameParams } from '@hooks';\nimport { useSubscribedState, useValidationMessage } from '@hooks';\nimport { cleanClassName } from '@utils';\n\nimport styles from './index.module.scss';\n\nexport interface SelectboxProps<\n  _ValidOptionValue = ValidOptionValue,\n  _Multiple = boolean,\n> extends Pick<\n      OptionsProps<_ValidOptionValue, _Multiple>,\n      'options' | 'float' | 'onChange' | 'value' | 'multiple' | 'optionStyle'\n    >,\n    Pick<InputProps<'button'>, 'disabled' | 'placeholder' | 'id' | 'ref'>,\n    Pick<InputWrapProps, 'onClick'>,\n    Omit<LabelWithInputProps, 'children'> {\n  validation?: ValidateHandler<SelectboxProps<_ValidOptionValue>['value']>;\n  inputStyle?: Pick<InputWrapProps, 'borderRadius' | 'size' | 'width'> &\n    UseTypographyClassNameParams;\n}\n\nexport const Selectbox = <\n  _ValidOptionValue extends ValidOptionValue = ValidOptionValue,\n  _Multiple extends boolean = false,\n>({\n  value,\n  options,\n  onChange,\n  float,\n  disabled,\n  placeholder,\n  id,\n  ref,\n  onClick,\n  label,\n  validation,\n  className,\n  inputStyle,\n  labelStyle,\n  multiple,\n  optionStyle,\n}: SelectboxProps<_ValidOptionValue, _Multiple>) => {\n  const [opened, setOpened] = useState(false);\n\n  const [selectedValue, setSelectedValue] = useSubscribedState(value);\n\n  const selectedOption = options?.find(({ value }) => value === selectedValue);\n\n  const { validationMessage, validateValue } = useValidationMessage({\n    key: label,\n    validateHandler: validation,\n    value: selectedValue,\n  });\n\n  return (\n    <Label.WithInput\n      label={label}\n      inputStyle={inputStyle}\n      labelStyle={labelStyle}\n      className={className}\n    >\n      <FocusLayer\n        onBlur={() => setOpened(false)}\n        focused={opened}\n        className={styles.selectbox}\n        bodyScroll\n      >\n        <Input.Wrap\n          validationMessage={validationMessage}\n          size={inputStyle?.size}\n          borderRadius={inputStyle?.borderRadius}\n          width={inputStyle?.width}\n          onClick={(e) => {\n            setOpened(!opened);\n            onClick?.(e);\n          }}\n        >\n          <Input\n            id={id}\n            name={label}\n            type=\"button\"\n            ref={ref}\n            value={selectedOption?.label}\n            disabled={disabled}\n            placeholder={placeholder}\n            fontSize={inputStyle?.fontSize}\n            fontWeight={inputStyle?.fontWeight}\n          />\n          <ChevronDown\n            className={cleanClassName(\n              `${styles.arrow} ${opened && styles['opened-arrow']}`,\n            )}\n          />\n        </Input.Wrap>\n        <Options\n          opened={opened}\n          options={options}\n          multiple={multiple}\n          value={selectedValue}\n          float={float}\n          className={styles['select-box-default-width']}\n          optionStyle={optionStyle}\n          onChange={(value) => {\n            setSelectedValue?.(value);\n            validateValue(value);\n            onChange?.(value);\n            setOpened(false);\n          }}\n        />\n      </FocusLayer>\n    </Label.WithInput>\n  );\n};\n"],"names":["Selectbox","value","options","onChange","float","disabled","placeholder","id","ref","onClick","label","validation","className","inputStyle","labelStyle","multiple","optionStyle","opened","setOpened","useState","selectedValue","setSelectedValue","useSubscribedState","selectedOption","value2","validationMessage","validateValue","useValidationMessage","jsx","Label","jsxs","FocusLayer","styles","Input","e","ChevronDown","cleanClassName","Options"],"mappings":"kjBAgCOA,EAAA,CAAA,CAGL,MAAAC,EACA,QAAAC,EACA,SAAAC,EACA,MAAAC,EACA,SAAAC,EACA,YAAAC,EACA,GAAAC,EACA,IAAAC,EACA,QAAAC,EACA,MAAAC,EACA,WAAAC,EACA,UAAAC,EACA,WAAAC,EACA,WAAAC,EACA,SAAAC,EACA,YAAAC,CAEF,IAAA,CACE,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EAEA,CAAAC,EAAAC,CAAA,EAAAC,EAAArB,CAAA,EAEAsB,EAAArB,GAAA,YAAAA,EAAA,KAAA,CAAA,CAAA,MAAAsB,CAAA,IAAAA,IAAAJ,GAEA,CAAA,kBAAAK,EAAA,cAAAC,CAAA,EAAAC,EAAA,CAAkE,IAAAjB,EAC3D,gBAAAC,EACY,MAAAS,CACV,CAAA,EAGT,OAAAQ,EAAA,IACEC,EAAA,UAAO,CAAN,MAAAnB,EACC,WAAAG,EACA,WAAAC,EACA,UAAAF,EACA,SAAAkB,EAAA,KAEAC,EAAC,CAAA,OAAA,IAAAb,EAAA,EAAA,EAC8B,QAAAD,EACpB,UAAAe,EAAA,UACS,WAAA,GACR,SAAA,CAEVF,EAAA,KAAAG,EAAA,KAAO,CAAN,kBAAAR,EACC,KAAAZ,GAAA,YAAAA,EAAA,KACkB,aAAAA,GAAA,YAAAA,EAAA,aACQ,MAAAA,GAAA,YAAAA,EAAA,MACP,QAAAqB,GAAA,CAEjBhB,EAAA,CAAAD,CAAA,EACAR,GAAA,MAAAA,EAAAyB,EAAW,EACb,SAAA,CAEAN,EAAA,IAAAK,EAAC,CAAA,GAAA1B,EACC,KAAAG,EACM,KAAA,SACD,IAAAF,EACL,MAAAe,GAAA,YAAAA,EAAA,MACuB,SAAAlB,EACvB,YAAAC,EACA,SAAAO,GAAA,YAAAA,EAAA,SACsB,WAAAA,GAAA,YAAAA,EAAA,UACE,CAAA,EAC1Be,EAAA,IACAO,EAAC,CAAA,UAAAC,EACY,GAAAJ,EAAA,SAAAf,GAAAe,EAAA,cAAA,GACyC,CACpD,CAAA,CACF,CAAA,CAAA,EACFJ,EAAA,IACAS,EAAC,CAAA,OAAApB,EACC,QAAAf,EACA,SAAAa,EACA,MAAAK,EACO,MAAAhB,EACP,UAAA4B,EAAA,0BAAA,EAC4C,YAAAhB,EAC5C,SAAAQ,GAAA,CAEEH,GAAA,MAAAA,EAAAG,GACAE,EAAAF,CAAA,EACArB,GAAA,MAAAA,EAAAqB,GACAN,EAAA,EAAA,CAAe,CACjB,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAGN"}