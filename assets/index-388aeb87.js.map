{"version":3,"file":"index-388aeb87.js","sources":["../../../node_modules/.pnpm/react-feather@2.0.10_react@18.2.0/node_modules/react-feather/dist/icons/x.js","../../../src/components/molecules/File/index.tsx"],"sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar X = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"18\",\n    y1: \"6\",\n    x2: \"6\",\n    y2: \"18\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"6\",\n    y1: \"6\",\n    x2: \"18\",\n    y2: \"18\"\n  }));\n});\nX.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nX.displayName = 'X';\nexport default X;","import { useRef } from 'react';\nimport { X } from 'react-feather';\n\nimport styles from './index.module.scss';\nimport { useComponentSelfState, useValidation } from '../../../hooks';\nimport { cleanClassName } from '../../../utils';\nimport { Button, InputContainer, Label } from '../../atoms';\n\nimport type { Validation } from '../../../hooks';\nimport type { ButtonProps, InputProps } from '../../atoms';\n\ninterface SavedFile {\n  name: string;\n  url: string;\n}\n\nexport interface FileProps\n  extends Pick<ButtonProps, 'size' | 'fontSize' | 'fontWeight' | 'className'> {\n  children?: React.ReactNode;\n  value?: SavedFile;\n  onChange?: (file?: File) => void;\n  download?: boolean;\n  disabled?: InputProps['disabled'];\n  accept?: string;\n  validation?: Validation<FileProps['value']>;\n  validationSpace?: boolean;\n  label?: string;\n  id?: string;\n}\n\nexport const File = ({\n  children,\n  size,\n  value,\n  onChange,\n  fontWeight,\n  fontSize,\n  className,\n  download = true,\n  disabled = false,\n  accept,\n  validation,\n  validationSpace,\n  label,\n  id,\n}: FileProps) => {\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const [savedFile, setSavedFile] = useComponentSelfState(value, false, [\n    value?.name,\n    value?.url,\n  ]);\n\n  const isDownloadActived = disabled !== true;\n\n  const { validationMessage, checkValidation } = useValidation(\n    value,\n    validation,\n    label || id,\n  );\n\n  const FileInput = (\n    <input\n      type=\"file\"\n      className={styles['file-input']}\n      ref={inputRef}\n      accept={accept}\n      disabled={!!disabled}\n      onChange={({ target: { files } }) => {\n        const file = files?.[0];\n        if (file) {\n          const savedFile = { name: file.name, url: URL.createObjectURL(file) };\n          onChange?.(file);\n          checkValidation?.(savedFile);\n          setSavedFile?.(savedFile);\n        }\n      }}\n    />\n  );\n\n  return (\n    <div\n      className={cleanClassName(\n        `${styles['download-link-container']} ${className}`,\n      )}\n    >\n      {label ? <Label htmlFor={label}>{label}</Label> : null}\n      {savedFile ? (\n        <InputContainer\n          validationMessage={validationMessage}\n          validationSpace={validationSpace}\n        >\n          <InputContainer.Intreraction\n            className={styles['download-link-interaction']}\n          >\n            <a\n              href={isDownloadActived ? savedFile?.url : undefined}\n              className={cleanClassName(\n                `${styles['download-link']} ${\n                  isDownloadActived ? styles.actived : styles.disabled\n                }`,\n              )}\n              download={download}\n            >\n              {savedFile?.name}\n            </a>\n            {disabled ? (\n              FileInput\n            ) : (\n              <Button\n                icon={<X />}\n                size=\"small\"\n                shape=\"round\"\n                theme=\"bluish-gray700/0\"\n                onClick={() => {\n                  setSavedFile?.(undefined);\n                  onChange?.(undefined);\n                  const { current } = inputRef;\n                  if (current) {\n                    current.value = '';\n                  }\n                }}\n              />\n            )}\n          </InputContainer.Intreraction>\n        </InputContainer>\n      ) : (\n        <Button\n          size={size}\n          className={styles['upload-button']}\n          fontSize={fontSize}\n          fontWeight={fontWeight}\n          disabled={!!disabled}\n          theme=\"bluish-gray400/bluish-gray10/bluish-gray200\"\n          onClick={() => {\n            inputRef.current?.click();\n          }}\n        >\n          {children}\n          {disabled ? null : FileInput}\n        </Button>\n      )}\n    </div>\n  );\n};\n"],"names":["_extends","target","source","key","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","i","sourceSymbolKeys","sourceKeys","X","forwardRef","_ref","ref","_ref$color","color","_ref$size","size","rest","React","PropTypes","X$1","File","children","value","onChange","fontWeight","fontSize","className","download","disabled","accept","validation","validationSpace","label","id","inputRef","useRef","savedFile","setSavedFile","useComponentSelfState","isDownloadActived","validationMessage","checkValidation","useValidation","FileInput","jsx","styles","files","file","savedFile2","jsxs","cleanClassName","Label","InputContainer","Button","current","_a"],"mappings":"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","x_google_ignoreList":[0]}