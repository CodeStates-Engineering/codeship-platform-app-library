import{j as m}from"./jsx-runtime-94f6e698.js";import{r as p,R as z}from"./index-8db94870.js";import"./Compatibility-ff615e1c.js";import{a as L}from"./useValidate-fe71e470.js";import{c as w}from"./ValidationContext-e5b2e92a.js";import{P as v}from"./index-1fc0ca9a.js";function y(){return y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},y.apply(this,arguments)}function W(t,e){if(t==null)return{};var s=M(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function M(t,e){if(t==null)return{};var s={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(s[i]=t[i]);return s}var E=p.forwardRef(function(t,e){var s=t.color,r=s===void 0?"currentColor":s,i=t.size,o=i===void 0?24:i,b=W(t,["color","size"]);return z.createElement("svg",y({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},b),z.createElement("polyline",{points:"20 6 9 17 4 12"}))});E.propTypes={color:v.string,size:v.oneOfType([v.string,v.number])};E.displayName="Check";const A=E,F="_options_5f26j_461",I="_closing_5f26j_473",U="_opening_5f26j_473",B="_top_5f26j_484",D="_bottom_5f26j_488",G="_selected_5f26j_534",J="_hovered_5f26j_539",Q="_show_5f26j_548",u={options:F,closing:I,opening:U,"fade-in":"_fade-in_5f26j_1","fade-out":"_fade-out_5f26j_1",top:B,bottom:D,"option-container":"_option-container_5f26j_493","option-wrap":"_option-wrap_5f26j_508","option-item":"_option-item_5f26j_513",selected:G,hovered:J,"icon-wrap":"_icon-wrap_5f26j_544",show:Q,"shake-horizontal":"_shake-horizontal_5f26j_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_5f26j_1","slide-in-fwd-center":"_slide-in-fwd-center_5f26j_1","scale-in-center":"_scale-in-center_5f26j_1","slide-in-right":"_slide-in-right_5f26j_1","slide-in-left":"_slide-in-left_5f26j_1","slide-out-right":"_slide-out-right_5f26j_1","slide-out-left":"_slide-out-left_5f26j_1","scale-in-top":"_scale-in-top_5f26j_1","scale-out-top":"_scale-out-top_5f26j_1","swing-in-top-fwd":"_swing-in-top-fwd_5f26j_1","fade-in-top":"_fade-in-top_5f26j_1","fade-out-top":"_fade-out-top_5f26j_1","fade-in-bottom":"_fade-in-bottom_5f26j_1","fade-out-bottom":"_fade-out-bottom_5f26j_1","scale-out-horizontal":"_scale-out-horizontal_5f26j_1"},C=({opened:t=!1,options:e,multiple:s=!1,value:r,onChange:i,onKeyDown:o,float:b="bottom",className:V,optionStyle:n,cancelable:N=!0})=>{const[h,$]=p.useState(t);p.useEffect(()=>{$(_=>_!==t?t?"opening":"closing":_)},[t]);const O=typeof h=="string",[q,j]=p.useState(-1),[P,T]=p.useMemo(()=>[{width:n==null?void 0:n.width},{maxHeight:n==null?void 0:n.maxHeight}],[n==null?void 0:n.maxHeight,n==null?void 0:n.width]);p.useEffect(()=>{if(O){const _=h==="opening";j((e==null?void 0:e.findIndex(({value:a})=>a===r))??-1);const l=setTimeout(()=>$(_),250);return()=>clearTimeout(l)}},[O,h,e,r]);const g=p.useRef([]);p.useEffect(()=>{if(h===!0&&e){const _=l=>{switch(o==null||o(l),l.key){case"ArrowUp":return l.preventDefault(),j(a=>{var f;if(a>0){const c=a-1;return(f=g.current[c])==null||f.focus(),c}return a});case"ArrowDown":return l.preventDefault(),j(a=>{var f;if(a<e.length-1){const c=a+1;return(f=g.current[c])==null||f.focus(),c}return a});case"Enter":return l.preventDefault(),j(a=>{var f;return a>=0&&((f=g.current[a])==null||f.click()),a})}};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)}},[h,e,o]);const{typographyClassName:R}=L({fontSize:n==null?void 0:n.fontSize,fontWeight:n==null?void 0:n.fontWeight});return h&&(e!=null&&e.length)?m.jsx("section",{style:P,className:w(`${u.options} ${u[b]} ${O&&u[h]} ${V}`),children:m.jsx("ul",{className:w(u["option-container"]),style:T,children:e==null?void 0:e.map(({label:_,value:l},a)=>{const f=a===q,c=(()=>r===void 0?!1:s&&r instanceof Array?r.includes(l):r===l)();return m.jsx("li",{className:u["option-wrap"],children:m.jsxs("button",{type:"button",ref:d=>{g.current[a]=d},className:w(`${u["option-item"]} ${R} ${f&&u.hovered} ${c&&u.selected}`),onClick:()=>{if(s){const d=r??[],x=i;let k=d;c?N&&(k=d.filter(H=>H!==l)):k=[...d,l],x==null||x(k)}else{const d=i;d==null||d(c&&N?void 0:l)}},onMouseEnter:()=>{j(a)},children:[m.jsx("div",{children:_}),s?m.jsx("div",{className:w(`${u["icon-wrap"]} ${c&&u.show}`),children:m.jsx(A,{size:"1em"})}):null]})},a)})})}):m.jsx(m.Fragment,{})};try{C.displayName="Options",C.__docgenInfo={description:"",displayName:"Options",props:{opened:{defaultValue:{value:"false"},description:"",name:"opened",required:!1,type:{name:"boolean"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ label: string; value: OptionValue; }[]"}},multiple:{defaultValue:{value:"false as Multiple"},description:"",name:"multiple",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"ValidOptionValue | OptionValue[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value?: (Multiple extends true ? OptionValue[] : OptionValue)) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent) => void)"}},float:{defaultValue:{value:"bottom"},description:"",name:"float",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},optionStyle:{defaultValue:null,description:"",name:"optionStyle",required:!1,type:{name:'(UseTypographyClassNameParams & Pick<CSSProperties, "width" | "maxHeight">)'}},cancelable:{defaultValue:{value:"true"},description:"",name:"cancelable",required:!1,type:{name:"boolean"}}}}}catch{}export{A as C,C as O};
//# sourceMappingURL=index-d92d2610.js.map
