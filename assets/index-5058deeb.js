import{j as _}from"./jsx-runtime-94f6e698.js";import{r as m,R as E}from"./index-8db94870.js";import"./Compatibility-ff615e1c.js";import{a as R}from"./useValidate-13adb089.js";import{c as w}from"./ValidationContext-e5b2e92a.js";import{P as v}from"./index-1fc0ca9a.js";function j(){return j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},j.apply(this,arguments)}function H(t,e){if(t==null)return{};var s=L(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function L(t,e){if(t==null)return{};var s={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(s[o]=t[o]);return s}var k=m.forwardRef(function(t,e){var s=t.color,r=s===void 0?"currentColor":s,o=t.size,i=o===void 0?24:o,b=H(t,["color","size"]);return E.createElement("svg",j({ref:e,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},b),E.createElement("polyline",{points:"20 6 9 17 4 12"}))});k.propTypes={color:v.string,size:v.oneOfType([v.string,v.number])};k.displayName="Check";const W=k,M="_options_pe3q0_461",A="_closing_pe3q0_473",F="_opening_pe3q0_473",I="_top_pe3q0_484",U="_bottom_pe3q0_488",B="_selected_pe3q0_530",D="_hovered_pe3q0_535",G="_show_pe3q0_544",f={options:M,closing:A,opening:F,"fade-in":"_fade-in_pe3q0_1","fade-out":"_fade-out_pe3q0_1",top:I,bottom:U,"option-container":"_option-container_pe3q0_493","option-wrap":"_option-wrap_pe3q0_508","option-item":"_option-item_pe3q0_513",selected:B,hovered:D,"icon-wrap":"_icon-wrap_pe3q0_540",show:G,"shake-horizontal":"_shake-horizontal_pe3q0_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_pe3q0_1","slide-in-fwd-center":"_slide-in-fwd-center_pe3q0_1","scale-in-center":"_scale-in-center_pe3q0_1","slide-in-right":"_slide-in-right_pe3q0_1","slide-in-left":"_slide-in-left_pe3q0_1","slide-out-right":"_slide-out-right_pe3q0_1","slide-out-left":"_slide-out-left_pe3q0_1","scale-in-top":"_scale-in-top_pe3q0_1","scale-out-top":"_scale-out-top_pe3q0_1","swing-in-top-fwd":"_swing-in-top-fwd_pe3q0_1","fade-in-top":"_fade-in-top_pe3q0_1","fade-out-top":"_fade-out-top_pe3q0_1","fade-in-bottom":"_fade-in-bottom_pe3q0_1","fade-out-bottom":"_fade-out-bottom_pe3q0_1","scale-out-horizontal":"_scale-out-horizontal_pe3q0_1"},N=({opened:t=!1,options:e,multiple:s=!1,value:r,onChange:o,onKeyDown:i,float:b="bottom",className:$,optionStyle:n})=>{const[h,y]=m.useState(t);m.useEffect(()=>{y(p=>p!==t?t?"opening":"closing":p)},[t]);const O=typeof h=="string",[z,g]=m.useState(-1),[C,P]=m.useMemo(()=>[{width:n==null?void 0:n.width},{maxHeight:n==null?void 0:n.maxHeight}],[n==null?void 0:n.maxHeight,n==null?void 0:n.width]);m.useEffect(()=>{if(O){const p=h==="opening";g((e==null?void 0:e.findIndex(({value:a})=>a===r))??-1);const l=setTimeout(()=>y(p),250);return()=>clearTimeout(l)}},[O,h,e,r]);const q=m.useRef([]);m.useEffect(()=>{if(h===!0&&e){const p=l=>{switch(i==null||i(l),l.key){case"ArrowUp":return l.preventDefault(),g(a=>{var c;if(a>0){const u=a-1;return(c=q.current[u])==null||c.focus(),u}return a});case"ArrowDown":return l.preventDefault(),g(a=>{var c;if(a<e.length-1){const u=a+1;return(c=q.current[u])==null||c.focus(),u}return a});case"Enter":return l.preventDefault(),g(a=>{var c;return a>=0&&((c=q.current[a])==null||c.click()),a})}};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)}},[h,e,i]);const{typographyClassName:V}=R({fontSize:n==null?void 0:n.fontSize,fontWeight:n==null?void 0:n.fontWeight});return h&&(e!=null&&e.length)?_.jsx("section",{style:C,className:w(`${f.options} ${f[b]} ${O&&f[h]} ${$}`),children:_.jsx("ul",{className:w(f["option-container"]),style:P,children:e==null?void 0:e.map(({label:p,value:l},a)=>{const c=a===z,u=(()=>r===void 0?!1:s&&r instanceof Array?r.includes(l):r===l)();return _.jsx("li",{className:f["option-wrap"],children:_.jsxs("button",{type:"button",ref:d=>{q.current[a]=d},className:w(`${f["option-item"]} ${V} ${c&&f.hovered} ${u&&f.selected}`),onClick:()=>{if(s){const d=r??[],x=o;x==null||x(u?d.filter(T=>T!==l):[...d,l])}else{const d=o;d==null||d(u?void 0:l)}},onMouseEnter:()=>{g(a)},children:[_.jsx("div",{children:p}),s?_.jsx("div",{className:w(`${f["icon-wrap"]} ${u&&f.show}`),children:_.jsx(W,{size:"1em"})}):null]})},a)})})}):_.jsx(_.Fragment,{})};try{N.displayName="Options",N.__docgenInfo={description:"",displayName:"Options",props:{opened:{defaultValue:{value:"false"},description:"",name:"opened",required:!1,type:{name:"boolean"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ label: string; value: OptionValue; }[]"}},multiple:{defaultValue:{value:"false as Multiple"},description:"",name:"multiple",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"ValidOptionValue | OptionValue[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value?: (Multiple extends true ? OptionValue[] : OptionValue)) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent) => void)"}},float:{defaultValue:{value:"bottom"},description:"",name:"float",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},optionStyle:{defaultValue:null,description:"",name:"optionStyle",required:!1,type:{name:'(UseTypographyClassNameParams & Pick<CSSProperties, "width" | "maxHeight">)'}}}}}catch{}export{W as C,N as O};
//# sourceMappingURL=index-5058deeb.js.map
