import{j as d}from"./jsx-runtime-94f6e698.js";import{r as l,R as P}from"./index-8db94870.js";import{c as T}from"./index-64131664.js";import"./index-7de20644.js";import{P as E}from"./index-1fc0ca9a.js";import{i as A}from"./isNumber-3648e59b.js";import{B as W}from"./index-1f9ff373.js";function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},k.apply(this,arguments)}function B(e,t){if(e==null)return{};var s=V(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function V(e,t){if(e==null)return{};var s={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(s[o]=e[o]);return s}var M=l.forwardRef(function(e,t){var s=e.color,r=s===void 0?"currentColor":s,o=e.size,a=o===void 0?24:o,f=B(e,["color","size"]);return P.createElement("svg",k({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},f),P.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),P.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});M.propTypes={color:E.string,size:E.oneOfType([E.string,E.number])};M.displayName="Copy";const F=M;var I={};Object.defineProperty(I,"__esModule",{value:!0});const G=l,H=function(e){let t="";return typeof e=="string"?t=e:typeof e=="number"?t=e.toString():e instanceof Array?e.forEach(function(s){t+=H(s)}):(0,G.isValidElement)(e)&&(t+=H(e.props.children)),t};var J=I.default=H;const K="_table_1taqx_461",Q="_header_1taqx_474",U="_title_1taqx_480",X="_hovered_1taqx_487",Y="_row_1taqx_497",Z="_cell_1taqx_500",ee="_hidden_1taqx_542",te="_dragging_1taqx_564",re="_restoring_1taqx_569",oe="_fixed_1taqx_574",ne="_shadow_1taqx_578",n={table:K,header:Q,title:U,hovered:X,"title-content":"_title-content_1taqx_491",row:Y,cell:Z,"drop-left":"_drop-left_1taqx_517","drop-right":"_drop-right_1taqx_518","cell-content-container":"_cell-content-container_1taqx_530","hovered-cell-content":"_hovered-cell-content_1taqx_538",hidden:ee,"fade-in":"_fade-in_1taqx_1",dragging:te,restoring:re,fixed:oe,shadow:ne,"copy-button-wrap":"_copy-button-wrap_1taqx_582","fade-out":"_fade-out_1taqx_1","shake-horizontal":"_shake-horizontal_1taqx_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_1taqx_1","slide-in-fwd-center":"_slide-in-fwd-center_1taqx_1","scale-in-center":"_scale-in-center_1taqx_1","slide-in-right":"_slide-in-right_1taqx_1","slide-in-left":"_slide-in-left_1taqx_1","slide-out-right":"_slide-out-right_1taqx_1","slide-out-left":"_slide-out-left_1taqx_1","scale-in-top":"_scale-in-top_1taqx_1","scale-out-top":"_scale-out-top_1taqx_1","swing-in-top-fwd":"_swing-in-top-fwd_1taqx_1","fade-in-top":"_fade-in-top_1taqx_1","fade-out-top":"_fade-out-top_1taqx_1","fade-in-bottom":"_fade-in-bottom_1taqx_1","fade-out-bottom":"_fade-out-bottom_1taqx_1","scale-out-horizontal":"_scale-out-horizontal_1taqx_1"},O=l.createContext({tableState:{titles:[]},setTableState:()=>{},fixedTitleCount:0,isLeftScrolled:!1}),se=({className:e,children:t,fixedTitleCount:s})=>{const[r,o]=l.useState({titles:[]}),[a,f]=l.useState(!1),h=l.useMemo(()=>({tableState:r,setTableState:o,fixedTitleCount:s,isLeftScrolled:a}),[s,r,a]);return d.jsx("article",{className:T(`${n.table} ${e}`),onScroll:g=>f(g.currentTarget.scrollLeft>0),children:d.jsx("table",{children:d.jsx(O.Provider,{value:h,children:t})})})},ie=({children:e,className:t})=>{const s=l.Children.count(e),{setTableState:r,tableState:{titles:o}}=l.useContext(O);l.useEffect(()=>{r(f=>({...f,titles:Array.from({length:s},(h,g)=>({order:{origin:g,current:g}}))}))},[s,r]);const a=l.Children.toArray(e);return d.jsx("thead",{className:T(`${n.header} ${t}`),children:d.jsx("tr",{children:o.map(({order:{origin:f}})=>a[f])})})},ae=({children:e,width:t,className:s})=>{var y,u;const{tableState:r,setTableState:o,fixedTitleCount:a,isLeftScrolled:f}=l.useContext(O),{titles:h}=r,g=l.useRef(null);l.useEffect(()=>{const{current:i}=g;if(i){const{offsetWidth:w,cellIndex:C}=i;o(q=>(q.titles[C].width=w,{...q}))}},[g,o,t]);const c=((y=g.current)==null?void 0:y.cellIndex)??-1,{draggingOrder:_,hoveredOrder:j,dropOrder:p}=r,m=i=>{_===void 0&&o(w=>({...w,hoveredOrder:i}))},S=()=>{if(A(_)&&c>=0){let i=[...h];const[w]=i.splice(_,1);i=i.sort((z,D)=>z.order.current-D.order.current);const{order:C}=h[c];i=[...i.slice(0,C.current),w,...i.slice(C.current)],i.forEach((z,D)=>{z.order.current=D});const q={...r,titles:i,dropOrder:void 0,draggingOrder:void 0,hoveredOrder:void 0};o(q),setTimeout(()=>o({...q,hoveredOrder:c}))}};let b=0;for(let i=0;i<c;i+=1)b+=((u=h[i])==null?void 0:u.width)??0;const x=p===c,v=_===c,L=c<a,N=c===a-1,$=j===c;return d.jsx("th",{style:{left:b},className:T(`${n.title} ${L&&n.fixed} ${N&&f&&n.shadow} ${$&&n.hovered} ${x&&(v||((_??0)>p?n["drop-left"]:n["drop-right"]))} ${v&&(x?n.restoring:n.dragging)} 

        } ${v&&(x?n.restoring:n.dragging)} ${s}`),ref:g,draggable:!0,onMouseEnter:()=>m(c),onMouseLeave:()=>m(),onDragOver:i=>i.preventDefault(),onDragStart:()=>o(i=>({...i,draggingOrder:c})),onDragEnter:()=>o(i=>({...i,dropOrder:c})),onDrop:S,children:d.jsx("div",{className:n["title-content"],style:{width:t},children:e})})},le=({children:e,className:t})=>d.jsx("tbody",{className:t,children:e}),de=({children:e,className:t})=>{const{tableState:{titles:s}}=l.useContext(O),r=l.Children.toArray(e);return d.jsx("tr",{className:T(`${n.row} ${t}`),children:s.map(({order:{origin:o}})=>r[o])})},ce=({children:e,onCopy:t,className:s})=>{var $,y;const{tableState:{titles:r,hoveredOrder:o,draggingOrder:a,dropOrder:f},fixedTitleCount:h,isLeftScrolled:g}=l.useContext(O),c=l.useRef(null),_=(($=c.current)==null?void 0:$.cellIndex)??-1,{width:j}=r[_??0]??{};let p=0;for(let u=0;u<_;u+=1)p+=((y=r[u])==null?void 0:y.width)??0;const[m,S]=l.useState(!1),b=f===_,x=a===_,v=_<h,L=_===h-1,N=o===_;return d.jsx("td",{ref:c,style:{left:p},className:T(`${n.cell} ${v&&n.fixed} ${L&&g&&n.shadow} ${N&&n.hovered} ${b&&(x||((a??0)>f?n["drop-left"]:n["drop-right"]))} ${x&&(b?n.restoring:n.dragging)} ${s}`),children:j===void 0?null:d.jsxs("div",{style:{width:j},className:n["cell-content-container"],onMouseEnter:({currentTarget:u})=>{(u.scrollWidth>u.clientWidth||t)&&S(!0)},onMouseLeave:()=>S(!1),children:[m?d.jsx("div",{className:n.hidden,children:e}):e,m?d.jsxs("div",{className:n["hovered-cell-content"],children:[e,t?d.jsx("div",{className:n["copy-button-wrap"],children:d.jsx(W,{className:n["copy-button"],size:"small3x",shape:"round",theme:"bluish-gray700/0",icon:d.jsx(F,{size:14}),onClick:()=>{const u=J(e);navigator.clipboard.writeText(u),t==null||t(u)}})}):null]}):null]})})},R=Object.assign(se,{Header:ie,Title:ae,Body:le,Row:de,Cell:ce});try{R.displayName="Table",R.__docgenInfo={description:"",displayName:"Table",props:{fixedTitleCount:{defaultValue:null,description:"",name:"fixedTitleCount",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{R as T};
//# sourceMappingURL=index-3b2aa613.js.map
