import{j as _}from"./jsx-runtime-94f6e698.js";import{r as a,R}from"./index-8db94870.js";import{_ as M}from"./index-d384cd4d.js";import{c as y}from"./index-64131664.js";import"./index-a929f743.js";import{d as W}from"./index-fc4f8fe1.js";import{P as C}from"./index-1fc0ca9a.js";import{b as A,c as B}from"./isObject-9c705d90.js";import{B as F}from"./index-18098115.js";var V="[object Number]";function G(e){return typeof e=="number"||A(e)&&B(e)==V}function H(){return H=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e},H.apply(this,arguments)}function J(e,s){if(e==null)return{};var i=K(e,s),t,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],!(s.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function K(e,s){if(e==null)return{};var i={},t=Object.keys(e),r,l;for(l=0;l<t.length;l++)r=t[l],!(s.indexOf(r)>=0)&&(i[r]=e[r]);return i}var P=a.forwardRef(function(e,s){var i=e.color,t=i===void 0?"currentColor":i,r=e.size,l=r===void 0?24:r,u=J(e,["color","size"]);return R.createElement("svg",H({ref:s,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),R.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),R.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});P.propTypes={color:C.string,size:C.oneOfType([C.string,C.number])};P.displayName="Copy";const Q=P,U="_table_1qxs5_461",X="_header_1qxs5_481",Y="_title_1qxs5_487",Z="_hovered_1qxs5_495",ee="_row_1qxs5_506",te="_cell_1qxs5_509",re="_overflow_1qxs5_547",oe="_hidden_1qxs5_557",se="_dragging_1qxs5_583",ne="_restoring_1qxs5_588",ie="_fixed_1qxs5_593",le="_shadow_1qxs5_597",o={table:U,"fade-in":"_fade-in_1qxs5_1",header:X,title:Y,hovered:Z,"title-content":"_title-content_1qxs5_499",row:ee,cell:te,"drop-left":"_drop-left_1qxs5_527","drop-right":"_drop-right_1qxs5_528","cell-content-container":"_cell-content-container_1qxs5_540",overflow:re,"not-overflow":"_not-overflow_1qxs5_550","hovered-cell-content-wrap":"_hovered-cell-content-wrap_1qxs5_553",hidden:oe,"has-style":"_has-style_1qxs5_579",dragging:se,restoring:ne,fixed:ie,shadow:le,"hovered-cell-content":"_hovered-cell-content_1qxs5_553","copy-button-wrap":"_copy-button-wrap_1qxs5_608","fade-out":"_fade-out_1qxs5_1","shake-horizontal":"_shake-horizontal_1qxs5_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_1qxs5_1","slide-in-fwd-center":"_slide-in-fwd-center_1qxs5_1","scale-in-center":"_scale-in-center_1qxs5_1","slide-in-right":"_slide-in-right_1qxs5_1","slide-in-left":"_slide-in-left_1qxs5_1","slide-out-right":"_slide-out-right_1qxs5_1","slide-out-left":"_slide-out-left_1qxs5_1","scale-in-top":"_scale-in-top_1qxs5_1","scale-out-top":"_scale-out-top_1qxs5_1","swing-in-top-fwd":"_swing-in-top-fwd_1qxs5_1","fade-in-top":"_fade-in-top_1qxs5_1","fade-out-top":"_fade-out-top_1qxs5_1","fade-in-bottom":"_fade-in-bottom_1qxs5_1","fade-out-bottom":"_fade-out-bottom_1qxs5_1","scale-out-horizontal":"_scale-out-horizontal_1qxs5_1"},O=a.createContext({tableState:{titles:[]},setTableState:()=>{},fixedTitleCount:0,isLeftScrolled:!1,isLoading:!1}),ae=({className:e,children:s,fixedTitleCount:i=0})=>{const[t,r]=a.useState({titles:[]}),[l,u]=a.useState(!1);a.useEffect(()=>{const f=W(()=>{r(g=>(g.titles.forEach(d=>{d.width=void 0}),{...g}))},300);return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]);const h=a.useMemo(()=>{const f=!t.titles.find(({width:g})=>!!g);return{tableState:t,setTableState:r,fixedTitleCount:i,isLeftScrolled:l,isLoading:f}},[i,t,l]);return _.jsx("article",{className:y(`${o.table} ${e}`),onScroll:f=>u(f.currentTarget.scrollLeft>0),children:_.jsx("table",{children:_.jsx(O.Provider,{value:h,children:s})})})},de=({children:e,className:s})=>{const i=a.Children.count(e),{setTableState:t,tableState:{titles:r}}=a.useContext(O);a.useEffect(()=>{t(u=>({...u,titles:Array.from({length:i},(h,f)=>({order:{origin:f,current:f}}))}))},[i,t]);const l=a.Children.toArray(e);return _.jsx("thead",{className:y(`${o.header} ${s}`),children:_.jsx("tr",{children:r.map(({order:{origin:u}})=>l[u])})})},ce=({children:e,width:s,className:i})=>{var N,E;const{tableState:t,setTableState:r,fixedTitleCount:l,isLeftScrolled:u,isLoading:h}=a.useContext(O),{titles:f}=t,g=a.useRef(null);a.useEffect(()=>{const{current:n}=g;if(n){const{offsetWidth:p,cellIndex:m}=n;(s||!h)&&r(c=>(c.titles[m].width=p,{...c}))}},[g,r,s,h]);const d=((N=g.current)==null?void 0:N.cellIndex)??-1,{draggingOrder:v,hoveredOrder:j,dropOrder:x}=t,$=n=>{v===void 0&&r(p=>({...p,hoveredOrder:n}))},S=()=>{if(G(v)&&d>=0){let n=[...f];const[p]=n.splice(v,1);n=n.sort((q,k)=>q.order.current-k.order.current);const{order:m}=f[d];n=[...n.slice(0,m.current),p,...n.slice(m.current)],n.forEach((q,k)=>{q.order.current=k});const c={...t,titles:n,dropOrder:void 0,draggingOrder:void 0,hoveredOrder:void 0};r(c),setTimeout(()=>r({...c,hoveredOrder:d}))}};let T=0;for(let n=0;n<d;n+=1)T+=((E=f[n])==null?void 0:E.width)??0;const b=x===d,w=v===d,L=d<l,z=d===l-1,D=j===d;return _.jsx("th",{style:{left:T,width:s},className:y(`${o.title} ${L&&o.fixed} ${z&&u&&o.shadow} ${D&&o.hovered} ${b&&(w||((v??0)>x?o["drop-left"]:o["drop-right"]))} ${w&&(b?o.restoring:o.dragging)} 

        } ${w&&(b?o.restoring:o.dragging)} ${i}`),ref:g,draggable:!0,onMouseEnter:()=>$(d),onMouseLeave:()=>$(),onDragOver:n=>n.preventDefault(),onDragStart:()=>r(n=>({...n,draggingOrder:d})),onDragEnter:()=>r(n=>({...n,dropOrder:d})),onDrop:S,children:_.jsx("div",{className:o["title-content"],children:e})})},_e=({children:e,className:s})=>_.jsx("tbody",{className:s,children:e}),fe=({children:e,className:s})=>{const{tableState:{titles:i}}=a.useContext(O),t=a.Children.toArray(e);return _.jsx("tr",{className:y(`${o.row} ${s}`),children:i.map(({order:{origin:r}})=>t[r])})},ue=({children:e,onCopy:s,className:i,hoverStyle:t})=>{var p,m;const{tableState:{titles:r,hoveredOrder:l,draggingOrder:u,dropOrder:h},fixedTitleCount:f,isLeftScrolled:g,setTableState:d,isLoading:v}=a.useContext(O),j=a.useRef(null),x=((p=j.current)==null?void 0:p.cellIndex)??-1,{width:$}=r[x??0]??{};let S=0;for(let c=0;c<x;c+=1)S+=((m=r[c])==null?void 0:m.width)??0;const[T,b]=a.useState(!1),w=h===x,L=u===x,z=x<f,D=x===f-1,N=l===x;a.useEffect(()=>d(c=>({...c})),[e,d]);const[E,n]=a.useState(!0);return _.jsx("td",{ref:j,style:{left:S},className:y(`${o.cell} ${z&&o.fixed} ${D&&g&&o.shadow} ${N&&o.hovered} ${w&&(L||((u??0)>h?o["drop-left"]:o["drop-right"]))} ${L&&(w?o.restoring:o.dragging)} ${i}`),children:v?null:_.jsxs("div",{style:{width:$},className:`${o["cell-content-container"]} ${E?o.overflow:o["not-overflow"]}`,onMouseEnter:({currentTarget:c})=>{const q=c.scrollWidth>c.clientWidth;(q||s)&&b(!0),q||n(!1)},onMouseLeave:()=>b(!1),children:[T?_.jsx("div",{className:o.hidden,children:e}):e,T?_.jsxs("div",{className:y(`${o["hovered-cell-content-wrap"]} ${t&&o["has-style"]}`),style:t,children:[_.jsx("div",{className:o["hovered-cell-content"],children:e}),s?_.jsx("div",{className:o["copy-button-wrap"],children:_.jsx(F,{size:"small3x",shape:"round",theme:"bluish-gray700/0",icon:_.jsx(Q,{size:14}),onClick:()=>{const c=M(e);navigator.clipboard.writeText(c),s==null||s(c)}})}):null]}):null]})})},I=Object.assign(ae,{Header:de,Title:ce,Body:_e,Row:fe,Cell:ue});try{I.displayName="Table",I.__docgenInfo={description:"",displayName:"Table",props:{fixedTitleCount:{defaultValue:{value:"0"},description:"",name:"fixedTitleCount",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{I as T,G as i};
//# sourceMappingURL=index-80c220a8.js.map
