import{j as u}from"./jsx-runtime-94f6e698.js";import{r as d,R as E}from"./index-8db94870.js";import"./Compatibility-ff615e1c.js";import{u as H}from"./useTypography-0e7bc425.js";import"./useValidationMessageDynamicHeight-c093b2ff.js";import{c as v}from"./createValidationStore-9cc55e44.js";import{P as x}from"./index-1fc0ca9a.js";function j(){return j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},j.apply(this,arguments)}function L(t,e){if(t==null)return{};var i=W(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function W(t,e){if(t==null)return{};var i={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(i[s]=t[s]);return i}var k=d.forwardRef(function(t,e){var i=t.color,n=i===void 0?"currentColor":i,s=t.size,a=s===void 0?24:s,z=L(t,["color","size"]);return E.createElement("svg",j({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},z),E.createElement("polyline",{points:"20 6 9 17 4 12"}))});k.propTypes={color:x.string,size:x.oneOfType([x.string,x.number])};k.displayName="Check";const M=k,A="_options_111mp_461",F="_closing_111mp_473",I="_opening_111mp_473",B="_top_111mp_484",D="_bottom_111mp_488",U="_selected_111mp_568",G="_hovered_111mp_573",J="_show_111mp_582",_={options:A,closing:F,opening:I,"fade-in":"_fade-in_111mp_1","fade-out":"_fade-out_111mp_1",top:B,bottom:D,"option-container":"_option-container_111mp_493","option-wrap":"_option-wrap_111mp_508","option-item":"_option-item_111mp_513","font-size-large4x":"_font-size-large4x_111mp_532","font-size-large3x":"_font-size-large3x_111mp_535","font-size-large2x":"_font-size-large2x_111mp_538","font-size-large":"_font-size-large_111mp_532","font-size-medium":"_font-size-medium_111mp_544","font-size-normal":"_font-size-normal_111mp_547","font-size-small":"_font-size-small_111mp_550","font-size-small2x":"_font-size-small2x_111mp_553","font-size-small3x":"_font-size-small3x_111mp_556","font-weight-700":"_font-weight-700_111mp_559","font-weight-500":"_font-weight-500_111mp_562","font-weight-400":"_font-weight-400_111mp_565",selected:U,hovered:G,"icon-wrap":"_icon-wrap_111mp_578",show:J,"shake-horizontal":"_shake-horizontal_111mp_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_111mp_1","slide-in-fwd-center":"_slide-in-fwd-center_111mp_1","scale-in-center":"_scale-in-center_111mp_1","slide-in-right":"_slide-in-right_111mp_1","slide-in-left":"_slide-in-left_111mp_1","slide-out-right":"_slide-out-right_111mp_1","slide-out-left":"_slide-out-left_111mp_1","scale-in-top":"_scale-in-top_111mp_1","scale-out-top":"_scale-out-top_111mp_1","swing-in-top-fwd":"_swing-in-top-fwd_111mp_1","fade-in-top":"_fade-in-top_111mp_1","fade-out-top":"_fade-out-top_111mp_1","fade-in-bottom":"_fade-in-bottom_111mp_1","fade-out-bottom":"_fade-out-bottom_111mp_1","scale-out-horizontal":"_scale-out-horizontal_111mp_1"},$=({opened:t=!1,options:e,multiple:i=!1,value:n,onChange:s,onKeyDown:a,float:z="bottom",className:N,optionStyle:r})=>{const[g,y]=d.useState(t);d.useEffect(()=>{y(c=>c!==t?t?"opening":"closing":c)},[t]);const b=typeof g=="string",[C,h]=d.useState(-1),[V,q]=d.useMemo(()=>[{width:r==null?void 0:r.width},{maxHeight:r==null?void 0:r.maxHeight}],[r==null?void 0:r.maxHeight,r==null?void 0:r.width]);d.useEffect(()=>{if(b){const c=g==="opening";h((e==null?void 0:e.findIndex(({value:o})=>o===n))??-1);const l=setTimeout(()=>y(c),250);return()=>clearTimeout(l)}},[b,g,e,n]);const w=d.useRef([]);d.useEffect(()=>{if(g===!0&&e){const c=l=>{switch(a==null||a(l),l.key){case"ArrowUp":return l.preventDefault(),h(o=>{var m;if(o>0){const f=o-1;return(m=w.current[f])==null||m.focus(),f}return o});case"ArrowDown":return l.preventDefault(),h(o=>{var m;if(o<e.length-1){const f=o+1;return(m=w.current[f])==null||m.focus(),f}return o});case"Enter":return l.preventDefault(),h(o=>{var m;return o>=0&&((m=w.current[o])==null||m.click()),o})}};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)}},[g,e,a]);const{fontSizeClassName:P,fontWeightClassName:T}=H(r==null?void 0:r.fontSize,r==null?void 0:r.fontWeight);return g&&(e!=null&&e.length)?u.jsx("section",{style:V,className:v(`${_.options} ${_[z]} ${b&&_[g]} ${N}`),children:u.jsx("ul",{className:v(_["option-container"]),style:q,children:e==null?void 0:e.map(({label:c,value:l},o)=>{const m=o===C,f=(()=>n===void 0?!1:i&&n instanceof Array?n.includes(l):n===l)();return u.jsx("li",{className:_["option-wrap"],children:u.jsxs("button",{type:"button",ref:p=>{w.current[o]=p},className:v(`${_["option-item"]} ${_[P]} ${_[T]} ${m&&_.hovered} ${f&&_.selected}`),onClick:()=>{if(i){const p=n??[],O=s;O==null||O(f?p.filter(R=>R!==l):[...p,l])}else{const p=s;p==null||p(f?void 0:l)}},onMouseEnter:()=>{h(o)},children:[u.jsx("div",{children:c}),i?u.jsx("div",{className:v(`${_["icon-wrap"]} ${f&&_.show}`),children:u.jsx(M,{size:"1em"})}):null]})},o)})})}):u.jsx(u.Fragment,{})};try{$.displayName="Options",$.__docgenInfo={description:"",displayName:"Options",props:{opened:{defaultValue:{value:"false"},description:"",name:"opened",required:!1,type:{name:"boolean"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ label: string; value: OptionValue; }[]"}},multiple:{defaultValue:{value:"false as Multiple"},description:"",name:"multiple",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"ValidOptionValue | OptionValue[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value?: (Multiple extends true ? OptionValue[] : OptionValue)) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent) => void)"}},float:{defaultValue:{value:"bottom"},description:"",name:"float",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},optionStyle:{defaultValue:null,description:"",name:"optionStyle",required:!1,type:{name:'(Typography & Pick<CSSProperties, "width" | "maxHeight">)'}}}}}catch{}export{M as C,$ as O};
//# sourceMappingURL=index-ec85f418.js.map
