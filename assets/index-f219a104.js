import{j as d}from"./jsx-runtime-94f6e698.js";import{r as a,R as H}from"./index-8db94870.js";import{_ as M}from"./index-d384cd4d.js";import{c as y}from"./index-64131664.js";import"./index-2f3392c0.js";import{P as E}from"./index-1fc0ca9a.js";import{b as W,c as A}from"./isObject-9c705d90.js";import{B}from"./index-18098115.js";var F="[object Number]";function V(e){return typeof e=="number"||W(e)&&A(e)==F}function P(){return P=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}function q(e,s){if(e==null)return{};var n=G(e,s),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function G(e,s){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(s.indexOf(o)>=0)&&(n[o]=e[o]);return n}var R=a.forwardRef(function(e,s){var n=e.color,r=n===void 0?"currentColor":n,o=e.size,i=o===void 0?24:o,f=q(e,["color","size"]);return H.createElement("svg",P({ref:s,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},f),H.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),H.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});R.propTypes={color:E.string,size:E.oneOfType([E.string,E.number])};R.displayName="Copy";const J=R,K="_table_8bl8s_461",Q="_header_8bl8s_476",U="_title_8bl8s_482",X="_hovered_8bl8s_490",Y="_row_8bl8s_500",Z="_cell_8bl8s_503",ee="_overflow_8bl8s_541",te="_hidden_8bl8s_551",re="_dragging_8bl8s_577",oe="_restoring_8bl8s_582",se="_fixed_8bl8s_587",le="_shadow_8bl8s_591",t={table:K,"fade-in":"_fade-in_8bl8s_1",header:Q,title:U,hovered:X,"title-content":"_title-content_8bl8s_494",row:Y,cell:Z,"drop-left":"_drop-left_8bl8s_521","drop-right":"_drop-right_8bl8s_522","cell-content-container":"_cell-content-container_8bl8s_534",overflow:ee,"not-overflow":"_not-overflow_8bl8s_544","hovered-cell-content-wrap":"_hovered-cell-content-wrap_8bl8s_547",hidden:te,"has-style":"_has-style_8bl8s_573",dragging:re,restoring:oe,fixed:se,shadow:le,"hovered-cell-content":"_hovered-cell-content_8bl8s_547","copy-button-wrap":"_copy-button-wrap_8bl8s_602","fade-out":"_fade-out_8bl8s_1","shake-horizontal":"_shake-horizontal_8bl8s_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_8bl8s_1","slide-in-fwd-center":"_slide-in-fwd-center_8bl8s_1","scale-in-center":"_scale-in-center_8bl8s_1","slide-in-right":"_slide-in-right_8bl8s_1","slide-in-left":"_slide-in-left_8bl8s_1","slide-out-right":"_slide-out-right_8bl8s_1","slide-out-left":"_slide-out-left_8bl8s_1","scale-in-top":"_scale-in-top_8bl8s_1","scale-out-top":"_scale-out-top_8bl8s_1","swing-in-top-fwd":"_swing-in-top-fwd_8bl8s_1","fade-in-top":"_fade-in-top_8bl8s_1","fade-out-top":"_fade-out-top_8bl8s_1","fade-in-bottom":"_fade-in-bottom_8bl8s_1","fade-out-bottom":"_fade-out-bottom_8bl8s_1","scale-out-horizontal":"_scale-out-horizontal_8bl8s_1"},j=a.createContext({tableState:{titles:[]},setTableState:()=>{},fixedTitleCount:0,isLeftScrolled:!1}),ne=({className:e,children:s,fixedTitleCount:n})=>{const[r,o]=a.useState({titles:[]}),[i,f]=a.useState(!1),g=a.useMemo(()=>({tableState:r,setTableState:o,fixedTitleCount:n,isLeftScrolled:i}),[n,r,i]);return d.jsx("article",{className:y(`${t.table} ${e}`),onScroll:u=>f(u.currentTarget.scrollLeft>0),children:d.jsx("table",{children:d.jsx(j.Provider,{value:g,children:s})})})},ie=({children:e,className:s})=>{const n=a.Children.count(e),{setTableState:r,tableState:{titles:o}}=a.useContext(j);a.useEffect(()=>{r(f=>({...f,titles:Array.from({length:n},(g,u)=>({order:{origin:u,current:u}}))}))},[n,r]);const i=a.Children.toArray(e);return d.jsx("thead",{className:y(`${t.header} ${s}`),children:d.jsx("tr",{children:o.map(({order:{origin:f}})=>i[f])})})},ae=({children:e,width:s,className:n})=>{var C,L;const{tableState:r,setTableState:o,fixedTitleCount:i,isLeftScrolled:f}=a.useContext(j),{titles:g}=r,u=a.useRef(null);a.useEffect(()=>{const{current:l}=u;if(l){const{offsetWidth:p,cellIndex:m}=l;o(c=>(c.titles[m].width=p,{...c}))}},[u,o,s]);const _=((C=u.current)==null?void 0:C.cellIndex)??-1,{draggingOrder:h,hoveredOrder:$,dropOrder:b}=r,T=l=>{h===void 0&&o(p=>({...p,hoveredOrder:l}))},S=()=>{if(V(h)&&_>=0){let l=[...g];const[p]=l.splice(h,1);l=l.sort((x,k)=>x.order.current-k.order.current);const{order:m}=g[_];l=[...l.slice(0,m.current),p,...l.slice(m.current)],l.forEach((x,k)=>{x.order.current=k});const c={...r,titles:l,dropOrder:void 0,draggingOrder:void 0,hoveredOrder:void 0};o(c),setTimeout(()=>o({...c,hoveredOrder:_}))}};let O=0;for(let l=0;l<_;l+=1)O+=((L=g[l])==null?void 0:L.width)??0;const v=b===_,w=h===_,N=_<i,z=_===i-1,D=$===_;return d.jsx("th",{style:{left:O,width:s},className:y(`${t.title} ${N&&t.fixed} ${z&&f&&t.shadow} ${D&&t.hovered} ${v&&(w||((h??0)>b?t["drop-left"]:t["drop-right"]))} ${w&&(v?t.restoring:t.dragging)} 

        } ${w&&(v?t.restoring:t.dragging)} ${n}`),ref:u,draggable:!0,onMouseEnter:()=>T(_),onMouseLeave:()=>T(),onDragOver:l=>l.preventDefault(),onDragStart:()=>o(l=>({...l,draggingOrder:_})),onDragEnter:()=>o(l=>({...l,dropOrder:_})),onDrop:S,children:d.jsx("div",{className:t["title-content"],children:e})})},ce=({children:e,className:s})=>d.jsx("tbody",{className:s,children:e}),de=({children:e,className:s})=>{const{tableState:{titles:n}}=a.useContext(j),r=a.Children.toArray(e);return d.jsx("tr",{className:y(`${t.row} ${s}`),children:n.map(({order:{origin:o}})=>r[o])})},_e=({children:e,onCopy:s,className:n,hoverStyle:r})=>{var p,m;const{tableState:{titles:o,hoveredOrder:i,draggingOrder:f,dropOrder:g},fixedTitleCount:u,isLeftScrolled:_,setTableState:h}=a.useContext(j),$=a.useRef(null),b=((p=$.current)==null?void 0:p.cellIndex)??-1,{width:T}=o[b??0]??{};let S=0;for(let c=0;c<b;c+=1)S+=((m=o[c])==null?void 0:m.width)??0;const[O,v]=a.useState(!1),w=g===b,N=f===b,z=b<u,D=b===u-1,C=i===b;a.useEffect(()=>h(c=>({...c})),[e,h]);const[L,l]=a.useState(!0);return d.jsx("td",{ref:$,style:{left:S},className:y(`${t.cell} ${z&&t.fixed} ${D&&_&&t.shadow} ${C&&t.hovered} ${w&&(N||((f??0)>g?t["drop-left"]:t["drop-right"]))} ${N&&(w?t.restoring:t.dragging)} ${n}`),children:T===void 0?null:d.jsxs("div",{style:{width:T},className:`${t["cell-content-container"]} ${L?t.overflow:t["not-overflow"]}`,onMouseEnter:({currentTarget:c})=>{const x=c.scrollWidth>c.clientWidth;(x||s)&&v(!0),x||l(!1)},onMouseLeave:()=>v(!1),children:[O?d.jsx("div",{className:t.hidden,children:e}):e,O?d.jsxs("div",{className:y(`${t["hovered-cell-content-wrap"]} ${r&&t["has-style"]}`),style:r,children:[d.jsx("div",{className:t["hovered-cell-content"],children:e}),s?d.jsx("div",{className:t["copy-button-wrap"],children:d.jsx(B,{size:"small3x",shape:"round",theme:"bluish-gray700/0",icon:d.jsx(J,{size:14}),onClick:()=>{const c=M(e);navigator.clipboard.writeText(c),s==null||s(c)}})}):null]}):null]})})},I=Object.assign(ne,{Header:ie,Title:ae,Body:ce,Row:de,Cell:_e});try{I.displayName="Table",I.__docgenInfo={description:"",displayName:"Table",props:{fixedTitleCount:{defaultValue:null,description:"",name:"fixedTitleCount",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{I as T,V as i};
//# sourceMappingURL=index-f219a104.js.map
