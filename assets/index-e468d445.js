import{j as p}from"./jsx-runtime-94f6e698.js";import{r as m,R as E}from"./index-8db94870.js";import"./index-e3b5ba34.js";import{c as w}from"./index-64131664.js";import{u as H}from"./useTypography-0e7bc425.js";import{P as v}from"./index-1fc0ca9a.js";function O(){return O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},O.apply(this,arguments)}function L(t,e){if(t==null)return{};var i=W(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function W(t,e){if(t==null)return{};var i={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(i[s]=t[s]);return i}var j=m.forwardRef(function(t,e){var i=t.color,r=i===void 0?"currentColor":i,s=t.size,a=s===void 0?24:s,x=L(t,["color","size"]);return E.createElement("svg",O({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},x),E.createElement("polyline",{points:"20 6 9 17 4 12"}))});j.propTypes={color:v.string,size:v.oneOfType([v.string,v.number])};j.displayName="Check";const M=j,A="_options_r3pk0_461",F="_closing_r3pk0_473",I="_opening_r3pk0_473",B="_top_r3pk0_484",D="_bottom_r3pk0_488",U="_selected_r3pk0_568",G="_hovered_r3pk0_573",J="_show_r3pk0_582",_={options:A,closing:F,opening:I,"fade-in":"_fade-in_r3pk0_1","fade-out":"_fade-out_r3pk0_1",top:B,bottom:D,"option-container":"_option-container_r3pk0_493","option-wrap":"_option-wrap_r3pk0_508","option-item":"_option-item_r3pk0_513","font-size-large4x":"_font-size-large4x_r3pk0_532","font-size-large3x":"_font-size-large3x_r3pk0_535","font-size-large2x":"_font-size-large2x_r3pk0_538","font-size-large":"_font-size-large_r3pk0_532","font-size-medium":"_font-size-medium_r3pk0_544","font-size-normal":"_font-size-normal_r3pk0_547","font-size-small":"_font-size-small_r3pk0_550","font-size-small2x":"_font-size-small2x_r3pk0_553","font-size-small3x":"_font-size-small3x_r3pk0_556","font-weight-700":"_font-weight-700_r3pk0_559","font-weight-500":"_font-weight-500_r3pk0_562","font-weight-400":"_font-weight-400_r3pk0_565",selected:U,hovered:G,"icon-wrap":"_icon-wrap_r3pk0_578",show:J,"shake-horizontal":"_shake-horizontal_r3pk0_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_r3pk0_1","slide-in-fwd-center":"_slide-in-fwd-center_r3pk0_1","scale-in-center":"_scale-in-center_r3pk0_1","slide-in-right":"_slide-in-right_r3pk0_1","slide-in-left":"_slide-in-left_r3pk0_1","slide-out-right":"_slide-out-right_r3pk0_1","slide-out-left":"_slide-out-left_r3pk0_1","scale-in-top":"_scale-in-top_r3pk0_1","scale-out-top":"_scale-out-top_r3pk0_1","swing-in-top-fwd":"_swing-in-top-fwd_r3pk0_1","fade-in-top":"_fade-in-top_r3pk0_1","fade-out-top":"_fade-out-top_r3pk0_1","fade-in-bottom":"_fade-in-bottom_r3pk0_1","fade-out-bottom":"_fade-out-bottom_r3pk0_1","scale-out-horizontal":"_scale-out-horizontal_r3pk0_1"},$=({opened:t=!1,options:e,multiple:i=!1,value:r,onChange:s,onKeyDown:a,float:x="bottom",className:N,optionStyle:n})=>{const[g,y]=m.useState(t);m.useEffect(()=>{y(u=>u!==t?t?"opening":"closing":u)},[t]);const z=typeof g=="string",[C,h]=m.useState(-1),[V,q]=m.useMemo(()=>[{width:n==null?void 0:n.width},{maxHeight:n==null?void 0:n.maxHeight}],[n==null?void 0:n.maxHeight,n==null?void 0:n.width]);m.useEffect(()=>{if(z){const u=g==="opening";h((e==null?void 0:e.findIndex(({value:o})=>o===r))??-1);const l=setTimeout(()=>y(u),250);return()=>clearTimeout(l)}},[z,g,e,r]);const k=m.useRef([]);m.useEffect(()=>{if(g===!0&&e){const u=l=>{switch(a==null||a(l),l.key){case"ArrowUp":return l.preventDefault(),h(o=>{var f;if(o>0){const c=o-1;return(f=k.current[c])==null||f.focus(),c}return o});case"ArrowDown":return l.preventDefault(),h(o=>{var f;if(o<e.length-1){const c=o+1;return(f=k.current[c])==null||f.focus(),c}return o});case"Enter":return l.preventDefault(),h(o=>{var f;return o>=0&&((f=k.current[o])==null||f.click()),o})}};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)}},[g,e,a]);const{fontSizeClassName:P,fontWeightClassName:T}=H(n==null?void 0:n.fontSize,n==null?void 0:n.fontWeight);return g&&(e!=null&&e.length)?p.jsx("section",{style:V,className:w(`${_.options} ${_[x]} ${z&&_[g]} ${N}`),children:p.jsx("ul",{className:w(_["option-container"]),style:q,children:e==null?void 0:e.map(({label:u,value:l},o)=>{const f=o===C,c=(()=>r===void 0?!1:i&&r instanceof Array?r.includes(l):r===l)();return p.jsx("li",{className:_["option-wrap"],children:p.jsxs("button",{type:"button",ref:d=>{k.current[o]=d},className:w(`${_["option-item"]} ${_[P]} ${_[T]} ${f&&_.hovered} ${c&&_.selected}`),onClick:()=>{if(i){const d=r??[],b=s;b==null||b(c?d.filter(R=>R!==l):[...d,l])}else{const d=s;d==null||d(c?void 0:l)}},onMouseEnter:()=>{h(o)},children:[p.jsx("div",{children:u}),i?p.jsx("div",{className:w(`${_["icon-wrap"]} ${c&&_.show}`),children:p.jsx(M,{size:"1em"})}):null]})},o)})})}):p.jsx(p.Fragment,{})};try{$.displayName="Options",$.__docgenInfo={description:"",displayName:"Options",props:{opened:{defaultValue:{value:"false"},description:"",name:"opened",required:!1,type:{name:"boolean"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ label: string; value: OptionValue; }[]"}},multiple:{defaultValue:{value:"false as Multiple"},description:"",name:"multiple",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"ValidOptionValue | OptionValue[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value?: (Multiple extends true ? OptionValue[] : OptionValue)) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent) => void)"}},float:{defaultValue:{value:"bottom"},description:"",name:"float",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},optionStyle:{defaultValue:null,description:"",name:"optionStyle",required:!1,type:{name:'(Typography & Pick<CSSProperties, "width" | "maxHeight">)'}}}}}catch{}export{M as C,$ as O};
//# sourceMappingURL=index-e468d445.js.map
