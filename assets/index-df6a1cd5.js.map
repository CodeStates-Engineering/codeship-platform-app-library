{"version":3,"file":"index-df6a1cd5.js","sources":["../../../src/components/molecules/Accordion/index.tsx"],"sourcesContent":["import { createContext, useContext, useRef } from 'react';\nimport type { Dispatch, SetStateAction } from 'react';\nimport { ChevronDown } from 'react-feather';\n\nimport styles from './index.module.scss';\nimport { useComponentSelfState } from '../../../hooks';\nimport { cleanClassName } from '../../../utils';\nimport { Hr } from '../../atoms';\n\ninterface CommonProps {\n  children?: React.ReactNode;\n  className?: string;\n}\n\nconst AccordionContext = createContext<\n  [boolean, Dispatch<SetStateAction<boolean>> | undefined]\n>([false, undefined]);\n\nexport interface AccordionProps extends CommonProps {\n  opened?: boolean;\n  onlyUpdatedByParent?: boolean;\n}\nconst AccordionMain = ({\n  children,\n  className,\n  opened = false,\n  onlyUpdatedByParent = false,\n}: AccordionProps) => {\n  const openState = useComponentSelfState(opened, onlyUpdatedByParent);\n  return (\n    <dl\n      className={cleanClassName(\n        `${styles['accordian-container']} ${className}`,\n      )}\n    >\n      <AccordionContext.Provider value={openState}>\n        {children}\n      </AccordionContext.Provider>\n    </dl>\n  );\n};\n\nexport type AccordionTitleProps = CommonProps;\nconst AccordionTitle = ({ children, className }: AccordionTitleProps) => {\n  const [opened, setOpened] = useContext(AccordionContext);\n  return (\n    <dt className={styles['accordian-title-wrap']}>\n      <button\n        type=\"button\"\n        className={cleanClassName(`${styles['accordian-title']} ${className}`)}\n        onClick={() => setOpened?.(() => !opened)}\n      >\n        <div className={styles['title-contents']}>{children}</div>\n        <ChevronDown\n          className={cleanClassName(\n            `${styles['chevron-down-icon']} ${opened && styles.opened}`,\n          )}\n        />\n      </button>\n    </dt>\n  );\n};\n\nexport type AccordionContentsProps = CommonProps;\nconst AccordionContents = ({ children, className }: AccordionContentsProps) => {\n  const [opened] = useContext(AccordionContext);\n  const ref = useRef<HTMLElement>(null);\n  return (\n    <dd\n      className={cleanClassName(`${styles['accordian-contents-wrap']}`)}\n      style={{\n        height: opened ? ref.current?.scrollHeight ?? 0 : 0,\n      }}\n    >\n      <Hr />\n      <article\n        ref={ref}\n        className={cleanClassName(\n          `${styles['accordian-contents']} ${\n            opened && styles.opened\n          } ${className}`,\n        )}\n      >\n        {children}\n      </article>\n    </dd>\n  );\n};\n\nexport const Accordion = Object.assign(AccordionMain, {\n  Title: AccordionTitle,\n  Contents: AccordionContents,\n});\n"],"names":["AccordionContext","createContext","AccordionMain","children","className","opened","onlyUpdatedByParent","openState","useComponentSelfState","jsx","cleanClassName","styles","AccordionTitle","setOpened","useContext","jsxs","ChevronDown","AccordionContents","ref","useRef","_a","Hr","Accordion"],"mappings":"83CAcAA,EAAAC,EAAAA,cAAA,CAAA,GAAA,MAAA,CAAA,EAQAC,EAAA,CAAA,CAAuB,SAAAC,EACrB,UAAAC,EACA,OAAAC,EAAA,GACS,oBAAAC,EAAA,EAEX,IAAA,CACE,MAAAC,EAAAC,EAAAH,EAAAC,CAAA,EACA,OAAAG,EAAA,IACE,KAAC,CAAA,UAAAC,EACY,GAAAC,EAAA,qBAAA,KAAAP,GAC2B,EACtC,SAAAK,EAAA,IAAAT,EAAA,SAAA,CAAA,MAAAO,EAAA,SAAAJ,EAAA,CAIA,CAAA,CAGN,EAGAS,EAAA,CAAA,CAAA,SAAAT,EAAA,UAAAC,KAAA,CACE,KAAA,CAAAC,EAAAQ,CAAA,EAAAC,EAAA,WAAAd,CAAA,EACA,OAAAS,EAAAA,IAAA,KAAA,CAAA,UAAAE,EAAA,sBAAA,EAAA,SAAAI,EAAA,KAEI,SAAC,CAAA,KAAA,SACM,UAAAL,EAAA,GAAAC,EAAA,iBAAA,KAAAP,GAAA,EACgE,QAAA,IAAAS,GAAA,YAAAA,EAAA,IAAA,CAAAR,GAC7B,SAAA,CAExCI,EAAA,IAAA,MAAA,CAAA,UAAAE,EAAA,gBAAA,EAAA,SAAAR,EAAA,EAAoDM,EAAA,IACpDO,EAAC,CAAA,UAAAN,EACY,GAAAC,EAAA,mBAAA,KAAAN,GAAAM,EAAA,QAC0C,CACrD,CAAA,CACF,CAAA,CAAA,CAAA,CAAA,CAIR,EAGAM,EAAA,CAAA,CAAA,SAAAd,EAAA,UAAAC,KAAA,OACE,KAAA,CAAAC,CAAA,EAAAS,EAAA,WAAAd,CAAA,EACAkB,EAAAC,SAAA,IAAA,EACA,OAAAJ,EAAA,KACE,KAAC,CAAA,UAAAL,EAAA,GAAAC,EAAA,yBAAA,GAAA,EACiE,MAAA,CACzD,OAAAN,IAAAe,EAAAF,EAAA,UAAA,YAAAE,EAAA,eAAA,EAAA,CAC6C,EACpD,SAAA,CAEAX,EAAA,IAAAY,EAAA,EAAA,EAAIZ,EAAA,IACJ,UAAC,CAAA,IAAAS,EACC,UAAAR,EACW,GAAAC,EAAA,oBAAA,KAAAN,GAAAM,EAAA,UAAAP,GAGL,EACN,SAAAD,CAEC,CAAA,CACH,CAAA,CAAA,CAGN,EAEOmB,EAAA,OAAA,OAAApB,EAAA,CAA+C,MAAAU,EAC7C,SAAAK,CAET,CAAA"}