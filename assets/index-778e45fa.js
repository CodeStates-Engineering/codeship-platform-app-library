import{j as d}from"./jsx-runtime-94f6e698.js";import{r as a,R as k}from"./index-8db94870.js";import{c as T}from"./index-64131664.js";import"./index-3b10708e.js";import{P as C}from"./index-1fc0ca9a.js";import{i as W}from"./isNumber-3648e59b.js";import{B}from"./index-6d56ed8f.js";function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r])}return e},H.apply(this,arguments)}function V(e,t){if(e==null)return{};var l=F(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function F(e,t){if(e==null)return{};var l={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(l[o]=e[o]);return l}var R=a.forwardRef(function(e,t){var l=e.color,r=l===void 0?"currentColor":l,o=e.size,i=o===void 0?24:o,_=V(e,["color","size"]);return k.createElement("svg",H({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},_),k.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),k.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});R.propTypes={color:C.string,size:C.oneOfType([C.string,C.number])};R.displayName="Copy";const q=R;var A={};Object.defineProperty(A,"__esModule",{value:!0});const G=a,M=function(e){let t="";return typeof e=="string"?t=e:typeof e=="number"?t=e.toString():e instanceof Array?e.forEach(function(l){t+=M(l)}):(0,G.isValidElement)(e)&&(t+=M(e.props.children)),t};var J=A.default=M;const K="_table_1z7ul_461",Q="_header_1z7ul_474",U="_title_1z7ul_480",X="_hovered_1z7ul_487",Y="_row_1z7ul_497",Z="_cell_1z7ul_500",ee="_hidden_1z7ul_542",te="_dragging_1z7ul_564",re="_restoring_1z7ul_569",oe="_fixed_1z7ul_574",ne="_shadow_1z7ul_578",n={table:K,header:Q,title:U,hovered:X,"title-content":"_title-content_1z7ul_491",row:Y,cell:Z,"drop-left":"_drop-left_1z7ul_517","drop-right":"_drop-right_1z7ul_518","cell-content-container":"_cell-content-container_1z7ul_530","hovered-cell-content":"_hovered-cell-content_1z7ul_538",hidden:ee,"fade-in":"_fade-in_1z7ul_1",dragging:te,restoring:re,fixed:oe,shadow:ne,"copy-button-wrap":"_copy-button-wrap_1z7ul_582","fade-out":"_fade-out_1z7ul_1","shake-horizontal":"_shake-horizontal_1z7ul_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_1z7ul_1","slide-in-fwd-center":"_slide-in-fwd-center_1z7ul_1","scale-in-center":"_scale-in-center_1z7ul_1","slide-in-right":"_slide-in-right_1z7ul_1","slide-in-left":"_slide-in-left_1z7ul_1","slide-out-right":"_slide-out-right_1z7ul_1","slide-out-left":"_slide-out-left_1z7ul_1","scale-in-top":"_scale-in-top_1z7ul_1","scale-out-top":"_scale-out-top_1z7ul_1","swing-in-top-fwd":"_swing-in-top-fwd_1z7ul_1","fade-in-top":"_fade-in-top_1z7ul_1","fade-out-top":"_fade-out-top_1z7ul_1","fade-in-bottom":"_fade-in-bottom_1z7ul_1","fade-out-bottom":"_fade-out-bottom_1z7ul_1","scale-out-horizontal":"_scale-out-horizontal_1z7ul_1"},O=a.createContext({tableState:{titles:[]},setTableState:()=>{},fixedTitleCount:0,isLeftScrolled:!1}),le=({className:e,children:t,fixedTitleCount:l})=>{const[r,o]=a.useState({titles:[]}),[i,_]=a.useState(!1),h=a.useMemo(()=>({tableState:r,setTableState:o,fixedTitleCount:l,isLeftScrolled:i}),[l,r,i]);return d.jsx("article",{className:T(`${n.table} ${e}`),onScroll:g=>_(g.currentTarget.scrollLeft>0),children:d.jsx("table",{children:d.jsx(O.Provider,{value:h,children:t})})})},se=({children:e,className:t})=>{const l=a.Children.count(e),{setTableState:r,tableState:{titles:o}}=a.useContext(O);a.useEffect(()=>{r(_=>({..._,titles:Array.from({length:l},(h,g)=>({order:{origin:g,current:g}}))}))},[l,r]);const i=a.Children.toArray(e);return d.jsx("thead",{className:T(`${n.header} ${t}`),children:d.jsx("tr",{children:o.map(({order:{origin:_}})=>i[_])})})},ie=({children:e,width:t,className:l})=>{var z,f;const{tableState:r,setTableState:o,fixedTitleCount:i,isLeftScrolled:_}=a.useContext(O),{titles:h}=r,g=a.useRef(null);a.useEffect(()=>{const{current:s}=g;if(s){const{offsetWidth:y,cellIndex:$}=s;o(w=>(w.titles[$].width=t??y,{...w}))}},[g,o,t]);const c=((z=g.current)==null?void 0:z.cellIndex)??-1,{draggingOrder:u,hoveredOrder:E,dropOrder:m}=r,b=s=>{u===void 0&&o(y=>({...y,hoveredOrder:s}))},j=()=>{if(W(u)&&c>=0){let s=[...h];const[y]=s.splice(u,1);s=s.sort((D,P)=>D.order.current-P.order.current);const{order:$}=h[c];s=[...s.slice(0,$.current),y,...s.slice($.current)],s.forEach((D,P)=>{D.order.current=P});const w={...r,titles:s,dropOrder:void 0,draggingOrder:void 0,hoveredOrder:void 0};o(w),setTimeout(()=>o({...w,hoveredOrder:c}))}};let v=0;for(let s=0;s<c;s+=1)v+=((f=h[s])==null?void 0:f.width)??0;const p=m===c,x=u===c,L=c<i,N=c===i-1,S=E===c;return d.jsx("th",{style:{left:v},className:T(`${n.title} ${L&&n.fixed} ${N&&_&&n.shadow} ${S&&n.hovered} ${p&&(x||((u??0)>m?n["drop-left"]:n["drop-right"]))} ${x&&(p?n.restoring:n.dragging)} 

        } ${x&&(p?n.restoring:n.dragging)} ${l}`),ref:g,draggable:!0,onMouseEnter:()=>b(c),onMouseLeave:()=>b(),onDragOver:s=>s.preventDefault(),onDragStart:()=>o(s=>({...s,draggingOrder:c})),onDragEnter:()=>o(s=>({...s,dropOrder:c})),onDrop:j,children:d.jsx("div",{className:n["title-content"],style:{width:t},children:e})})},ae=({children:e,className:t})=>d.jsx("tbody",{className:t,children:e}),de=({children:e,className:t})=>{const{tableState:{titles:l}}=a.useContext(O),r=a.Children.toArray(e);return d.jsx("tr",{className:T(`${n.row} ${t}`),children:l.map(({order:{origin:o}})=>r[o])})},ce=({children:e,onCopy:t,className:l})=>{var S,z;const{tableState:{titles:r,hoveredOrder:o,draggingOrder:i,dropOrder:_},fixedTitleCount:h,isLeftScrolled:g}=a.useContext(O),c=a.useRef(null),u=((S=c.current)==null?void 0:S.cellIndex)??-1,{width:E}=r[u??0]??{};let m=0;for(let f=0;f<u;f+=1)m+=((z=r[f])==null?void 0:z.width)??0;const[b,j]=a.useState(!1),v=_===u,p=i===u,x=u<h,L=u===h-1,N=o===u;return d.jsx("td",{ref:c,style:{left:m},className:T(`${n.cell} ${x&&n.fixed} ${L&&g&&n.shadow} ${N&&n.hovered} ${v&&(p||((i??0)>_?n["drop-left"]:n["drop-right"]))} ${p&&(v?n.restoring:n.dragging)} ${l}`),children:d.jsxs("div",{style:{width:E},className:n["cell-content-container"],onMouseEnter:({currentTarget:f})=>{(f.scrollWidth>f.clientWidth||t)&&j(!0)},onMouseLeave:()=>j(!1),children:[b?d.jsx("div",{className:n.hidden,children:e}):e,b?d.jsxs("div",{className:n["hovered-cell-content"],children:[e,t?d.jsx("div",{className:n["copy-button-wrap"],children:d.jsx(B,{className:n["copy-button"],size:"small3x",shape:"round",theme:"bluish-gray700/0",icon:d.jsx(q,{size:14}),onClick:()=>{const f=J(e);navigator.clipboard.writeText(f),t==null||t(f)}})}):null]}):null]})})},I=Object.assign(le,{Header:se,Title:ie,Body:ae,Row:de,Cell:ce});try{I.displayName="Table",I.__docgenInfo={description:"",displayName:"Table",props:{fixedTitleCount:{defaultValue:null,description:"",name:"fixedTitleCount",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{I as T};
//# sourceMappingURL=index-778e45fa.js.map
