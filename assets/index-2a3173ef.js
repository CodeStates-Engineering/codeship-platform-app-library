import{j as d}from"./jsx-runtime-94f6e698.js";import{r as a,R}from"./index-8db94870.js";import{c as T}from"./ValidationContext-e5b2e92a.js";import{_ as G}from"./index-d384cd4d.js";import"./index-987fedf7.js";import{P as L}from"./index-1fc0ca9a.js";import{B as K}from"./index-16894b48.js";import{b as Q,c as U}from"./isObject-9c705d90.js";import{d as X}from"./index-636d64e1.js";var Y="[object Number]";function Z(e){return typeof e=="number"||Q(e)&&U(e)==Y}function D(){return D=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},D.apply(this,arguments)}function ee(e,o){if(e==null)return{};var s=te(e,o),t,r;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)t=n[r],!(o.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function te(e,o){if(e==null)return{};var s={},t=Object.keys(e),r,n;for(n=0;n<t.length;n++)r=t[n],!(o.indexOf(r)>=0)&&(s[r]=e[r]);return s}var F=a.forwardRef(function(e,o){var s=e.color,t=s===void 0?"currentColor":s,r=e.size,n=r===void 0?24:r,u=ee(e,["color","size"]);return R.createElement("svg",D({ref:o,xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),R.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),R.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});F.propTypes={color:L.string,size:L.oneOfType([L.string,L.number])};F.displayName="Copy";const oe=F,k=a.createContext({tableState:{titles:[]},setTableState:()=>{},fixedTitleCount:0,isLeftScrolled:!1,isLoading:!1}),P=({children:e,className:o})=>d.jsx("tbody",{className:o,children:e});try{P.displayName="TableBody",P.__docgenInfo={description:"",displayName:"TableBody",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const re="_title_3rnxg_461",ne="_hovered_3rnxg_469",ie="_fixed_3rnxg_473",se="_shadow_3rnxg_477",le="_restoring_3rnxg_501",ae="_dragging_3rnxg_506",de="_cell_3rnxg_511",_e="_overflow_3rnxg_563",ce="_hidden_3rnxg_573",c={title:re,hovered:ne,fixed:ie,shadow:se,"title-content":"_title-content_3rnxg_481","drop-left":"_drop-left_3rnxg_488","drop-right":"_drop-right_3rnxg_489",restoring:le,dragging:ae,cell:de,"cell-content-container":"_cell-content-container_3rnxg_556",overflow:_e,"not-overflow":"_not-overflow_3rnxg_566","hovered-cell-content-wrap":"_hovered-cell-content-wrap_3rnxg_569",hidden:ce,"fade-in":"_fade-in_3rnxg_1","has-style":"_has-style_3rnxg_595","copy-button-wrap":"_copy-button-wrap_3rnxg_599","hovered-cell-content":"_hovered-cell-content_3rnxg_569","fade-out":"_fade-out_3rnxg_1","shake-horizontal":"_shake-horizontal_3rnxg_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_3rnxg_1","slide-in-fwd-center":"_slide-in-fwd-center_3rnxg_1","scale-in-center":"_scale-in-center_3rnxg_1","slide-in-right":"_slide-in-right_3rnxg_1","slide-in-left":"_slide-in-left_3rnxg_1","slide-out-right":"_slide-out-right_3rnxg_1","slide-out-left":"_slide-out-left_3rnxg_1","scale-in-top":"_scale-in-top_3rnxg_1","scale-out-top":"_scale-out-top_3rnxg_1","swing-in-top-fwd":"_swing-in-top-fwd_3rnxg_1","fade-in-top":"_fade-in-top_3rnxg_1","fade-out-top":"_fade-out-top_3rnxg_1","fade-in-bottom":"_fade-in-bottom_3rnxg_1","fade-out-bottom":"_fade-out-bottom_3rnxg_1","scale-out-horizontal":"_scale-out-horizontal_3rnxg_1"},W=({children:e,onCopy:o,className:s,hoverStyle:t})=>{var i,b;const{tableState:{titles:r,hoveredOrder:n,draggingOrder:u,dropOrder:p},fixedTitleCount:m,isLeftScrolled:f,setTableState:g,isLoading:l}=a.useContext(k),x=a.useRef(null),w=((i=x.current)==null?void 0:i.cellIndex)??-1,{width:O}=r[w??0]??{};let N=0;for(let _=0;_<w;_+=1)N+=((b=r[_])==null?void 0:b.width)??0;const[S,$]=a.useState(!1),v=p===w,j=u===w,E=w<m,I=w===m-1,V=n===w;a.useEffect(()=>g(_=>({..._})),[e,g]);const[z,C]=a.useState(!0);return d.jsx("td",{ref:x,style:{left:N},className:T(`${c.cell} ${E&&c.fixed} ${I&&f&&c.shadow} ${V&&c.hovered} ${v&&(j||((u??0)>p?c["drop-left"]:c["drop-right"]))} ${j&&(v?c.restoring:c.dragging)} ${s}`),children:l?null:d.jsxs("div",{style:{width:O},className:`${c["cell-content-container"]} ${z?c.overflow:c["not-overflow"]}`,onMouseEnter:({currentTarget:_})=>{const y=_.scrollWidth>_.clientWidth;(y||o)&&$(!0),y||C(!1)},onMouseLeave:()=>$(!1),children:[S?d.jsx("div",{className:c.hidden,children:e}):e,S?d.jsxs("div",{className:T(`${c["hovered-cell-content-wrap"]} ${t&&c["has-style"]}`),style:t,children:[d.jsx("div",{className:c["hovered-cell-content"],children:e}),o?d.jsx("div",{className:c["copy-button-wrap"],children:d.jsx(K,{size:"small3x",shape:"round",theme:"bluish-gray700/0",icon:d.jsx(oe,{size:14}),onClick:()=>{const _=G(e);navigator.clipboard.writeText(_),o==null||o(_)}})}):null]}):null]})})};try{W.displayName="TableCell",W.__docgenInfo={description:"",displayName:"TableCell",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onCopy:{defaultValue:null,description:"",name:"onCopy",required:!1,type:{name:"((value: string) => void)"}},hoverStyle:{defaultValue:null,description:"",name:"hoverStyle",required:!1,type:{name:'Pick<CSSProperties, "maxHeight" | "maxWidth">'}}}}}catch{}const fe="_header_1d0a9_1",ge={header:fe},B=({children:e,className:o})=>{const s=a.Children.count(e),{setTableState:t,tableState:{titles:r},saveId:n}=a.useContext(k);a.useEffect(()=>{var m;const p=n?(m=JSON.parse(window.localStorage.getItem(n)||"")??void 0)==null?void 0:m.titles:void 0;t(f=>({...f,titles:Array.from({length:s},(g,l)=>({order:(p==null?void 0:p[l].order)||{origin:l,current:l}}))}))},[s,t,n]);const u=a.Children.toArray(e);return d.jsx("thead",{className:T(`${ge.header} ${o}`),children:d.jsx("tr",{children:r.map(({order:{origin:p}})=>u[p])})})};try{B.displayName="TableHeader",B.__docgenInfo={description:"",displayName:"TableHeader",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const ue="_row_19g9c_461",pe="_cell_19g9c_464",he={row:ue,cell:pe,"fade-in":"_fade-in_19g9c_1","fade-out":"_fade-out_19g9c_1","shake-horizontal":"_shake-horizontal_19g9c_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_19g9c_1","slide-in-fwd-center":"_slide-in-fwd-center_19g9c_1","scale-in-center":"_scale-in-center_19g9c_1","slide-in-right":"_slide-in-right_19g9c_1","slide-in-left":"_slide-in-left_19g9c_1","slide-out-right":"_slide-out-right_19g9c_1","slide-out-left":"_slide-out-left_19g9c_1","scale-in-top":"_scale-in-top_19g9c_1","scale-out-top":"_scale-out-top_19g9c_1","swing-in-top-fwd":"_swing-in-top-fwd_19g9c_1","fade-in-top":"_fade-in-top_19g9c_1","fade-out-top":"_fade-out-top_19g9c_1","fade-in-bottom":"_fade-in-bottom_19g9c_1","fade-out-bottom":"_fade-out-bottom_19g9c_1","scale-out-horizontal":"_scale-out-horizontal_19g9c_1"},M=({children:e,className:o})=>{const{tableState:{titles:s}}=a.useContext(k),t=a.Children.toArray(e);return d.jsx("tr",{className:T(`${he.row} ${o}`),children:s.map(({order:{origin:r}})=>t[r])})};try{M.displayName="TableRow",M.__docgenInfo={description:"",displayName:"TableRow",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const me="_title_1xjh4_461",xe="_hovered_1xjh4_469",we="_fixed_1xjh4_473",be="_shadow_1xjh4_477",ye="_restoring_1xjh4_501",ve="_dragging_1xjh4_506",h={title:me,hovered:xe,fixed:we,shadow:be,"title-content":"_title-content_1xjh4_481","drop-left":"_drop-left_1xjh4_488","drop-right":"_drop-right_1xjh4_489",restoring:ye,dragging:ve,"fade-in":"_fade-in_1xjh4_1","fade-out":"_fade-out_1xjh4_1","shake-horizontal":"_shake-horizontal_1xjh4_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_1xjh4_1","slide-in-fwd-center":"_slide-in-fwd-center_1xjh4_1","scale-in-center":"_scale-in-center_1xjh4_1","slide-in-right":"_slide-in-right_1xjh4_1","slide-in-left":"_slide-in-left_1xjh4_1","slide-out-right":"_slide-out-right_1xjh4_1","slide-out-left":"_slide-out-left_1xjh4_1","scale-in-top":"_scale-in-top_1xjh4_1","scale-out-top":"_scale-out-top_1xjh4_1","swing-in-top-fwd":"_swing-in-top-fwd_1xjh4_1","fade-in-top":"_fade-in-top_1xjh4_1","fade-out-top":"_fade-out-top_1xjh4_1","fade-in-bottom":"_fade-in-bottom_1xjh4_1","fade-out-bottom":"_fade-out-bottom_1xjh4_1","scale-out-horizontal":"_scale-out-horizontal_1xjh4_1"},A=({children:e,width:o,className:s,draggable:t=!0})=>{var z,C;const{tableState:r,setTableState:n,fixedTitleCount:u,isLeftScrolled:p,isLoading:m}=a.useContext(k),{titles:f}=r,g=a.useRef(null);a.useEffect(()=>{const{current:i}=g;if(i){const{offsetWidth:b,cellIndex:_}=i;(o||!m)&&n(y=>(y.titles[_].width=b,{...y}))}},[g,n,o,m]);const l=((z=g.current)==null?void 0:z.cellIndex)??-1,{draggingOrder:x,hoveredOrder:w,dropOrder:O}=r,N=i=>{x===void 0&&n(b=>({...b,hoveredOrder:i}))},S=()=>{if(Z(x)&&l>=0){let i=[...f];const[b]=i.splice(x??-1,1);i=i.sort((q,H)=>q.order.current-H.order.current);const{order:_}=f[l];i=[...i.slice(0,_.current),b,...i.slice(_.current)],i.forEach((q,H)=>{q.order.current=H});const y={...r,titles:i,dropOrder:void 0,draggingOrder:void 0,hoveredOrder:void 0};n(y),setTimeout(()=>n({...y,hoveredOrder:l}))}};let $=0;for(let i=0;i<l;i+=1)$+=((C=f[i])==null?void 0:C.width)??0;const v=O===l,j=x===l,E=l<u,I=l===u-1,V=w===l;return d.jsx("th",{style:{left:$},className:T(`${h.title} ${E&&h.fixed} ${I&&p&&h.shadow} ${V&&h.hovered} ${v&&(j||((x??0)>O?h["drop-left"]:h["drop-right"]))} ${j&&(v?h.restoring:h.dragging)} 
  
          } ${j&&(v?h.restoring:h.dragging)} ${s}`),ref:g,draggable:t,onMouseEnter:()=>N(l),onMouseLeave:()=>N(),onDragOver:i=>i.preventDefault(),onDragStart:()=>n(i=>({...i,draggingOrder:l})),onDragEnter:()=>n(i=>({...i,dropOrder:l})),onDrop:S,children:d.jsx("div",{style:{width:o},className:h["title-content"],children:e})})};try{A.displayName="TableTitle",A.__docgenInfo={description:"",displayName:"TableTitle",props:{width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"Width<string | number>"}},draggable:{defaultValue:{value:"true"},description:"",name:"draggable",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const je="_table_tpmko_461",Te={table:je,"fade-in":"_fade-in_tpmko_1","fade-out":"_fade-out_tpmko_1","shake-horizontal":"_shake-horizontal_tpmko_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_tpmko_1","slide-in-fwd-center":"_slide-in-fwd-center_tpmko_1","scale-in-center":"_scale-in-center_tpmko_1","slide-in-right":"_slide-in-right_tpmko_1","slide-in-left":"_slide-in-left_tpmko_1","slide-out-right":"_slide-out-right_tpmko_1","slide-out-left":"_slide-out-left_tpmko_1","scale-in-top":"_scale-in-top_tpmko_1","scale-out-top":"_scale-out-top_tpmko_1","swing-in-top-fwd":"_swing-in-top-fwd_tpmko_1","fade-in-top":"_fade-in-top_tpmko_1","fade-out-top":"_fade-out-top_tpmko_1","fade-in-bottom":"_fade-in-bottom_tpmko_1","fade-out-bottom":"_fade-out-bottom_tpmko_1","scale-out-horizontal":"_scale-out-horizontal_tpmko_1"},J=Object.assign(({className:e,children:o,fixedTitleCount:s=0,saveId:t="test hyeokjae"})=>{const[r,n]=a.useState({titles:[]}),[u,p]=a.useState(!1);a.useEffect(()=>{const f=X(()=>{n(g=>(g.titles.forEach(l=>{l.width=void 0}),{...g}))},300);return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]);const m=a.useMemo(()=>{const f=!r.titles.find(({width:g})=>!!g);return t&&!f&&window.localStorage.setItem(t,JSON.stringify(r)),{tableState:r,setTableState:n,fixedTitleCount:s,isLeftScrolled:u,isLoading:f,saveId:t}},[r,t,s,u]);return d.jsx("article",{className:T(`${Te.table} ${e}`),onScroll:f=>p(f.currentTarget.scrollLeft>0),children:d.jsx("table",{children:d.jsx(k.Provider,{value:m,children:o})})})},{Header:B,Title:A,Body:P,Row:M,Cell:W});try{J.displayName="Table",J.__docgenInfo={description:"",displayName:"Table",props:{saveId:{defaultValue:null,description:"",name:"saveId",required:!1,type:{name:"string"}},fixedTitleCount:{defaultValue:null,description:"",name:"fixedTitleCount",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{J as T,Z as i};
//# sourceMappingURL=index-2a3173ef.js.map
