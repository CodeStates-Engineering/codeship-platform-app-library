import{j as d}from"./jsx-runtime-94f6e698.js";import{r as l,R as P}from"./index-8db94870.js";import{c as j}from"./index-64131664.js";import"./index-585c63de.js";import{P as E}from"./index-1fc0ca9a.js";import{b as W,c as B}from"./isObject-9c705d90.js";import{B as V}from"./index-18098115.js";var F="[object Number]";function q(e){return typeof e=="number"||W(e)&&B(e)==F}function H(){return H=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},H.apply(this,arguments)}function G(e,r){if(e==null)return{};var a=J(e,r),o,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}function J(e,r){if(e==null)return{};var a={},o=Object.keys(e),n,i;for(i=0;i<o.length;i++)n=o[i],!(r.indexOf(n)>=0)&&(a[n]=e[n]);return a}var R=l.forwardRef(function(e,r){var a=e.color,o=a===void 0?"currentColor":a,n=e.size,i=n===void 0?24:n,_=G(e,["color","size"]);return P.createElement("svg",H({ref:r,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},_),P.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),P.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});R.propTypes={color:E.string,size:E.oneOfType([E.string,E.number])};R.displayName="Copy";const K=R;var A={};Object.defineProperty(A,"__esModule",{value:!0});const Q=l,M=function(e){let r="";return typeof e=="string"?r=e:typeof e=="number"?r=e.toString():e instanceof Array?e.forEach(function(a){r+=M(a)}):(0,Q.isValidElement)(e)&&(r+=M(e.props.children)),r};var U=A.default=M;const X="_table_1a46r_461",Y="_header_1a46r_476",Z="_title_1a46r_482",ee="_hovered_1a46r_489",te="_row_1a46r_499",re="_cell_1a46r_502",oe="_hidden_1a46r_544",ne="_dragging_1a46r_566",se="_restoring_1a46r_571",ae="_fixed_1a46r_576",ie="_shadow_1a46r_580",s={table:X,"fade-in":"_fade-in_1a46r_1",header:Y,title:Z,hovered:ee,"title-content":"_title-content_1a46r_493",row:te,cell:re,"drop-left":"_drop-left_1a46r_519","drop-right":"_drop-right_1a46r_520","cell-content-container":"_cell-content-container_1a46r_532","hovered-cell-content":"_hovered-cell-content_1a46r_540",hidden:oe,dragging:ne,restoring:se,fixed:ae,shadow:ie,"copy-button-wrap":"_copy-button-wrap_1a46r_584","fade-out":"_fade-out_1a46r_1","shake-horizontal":"_shake-horizontal_1a46r_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_1a46r_1","slide-in-fwd-center":"_slide-in-fwd-center_1a46r_1","scale-in-center":"_scale-in-center_1a46r_1","slide-in-right":"_slide-in-right_1a46r_1","slide-in-left":"_slide-in-left_1a46r_1","slide-out-right":"_slide-out-right_1a46r_1","slide-out-left":"_slide-out-left_1a46r_1","scale-in-top":"_scale-in-top_1a46r_1","scale-out-top":"_scale-out-top_1a46r_1","swing-in-top-fwd":"_swing-in-top-fwd_1a46r_1","fade-in-top":"_fade-in-top_1a46r_1","fade-out-top":"_fade-out-top_1a46r_1","fade-in-bottom":"_fade-in-bottom_1a46r_1","fade-out-bottom":"_fade-out-bottom_1a46r_1","scale-out-horizontal":"_scale-out-horizontal_1a46r_1"},S=l.createContext({tableState:{titles:[]},setTableState:()=>{},fixedTitleCount:0,isLeftScrolled:!1}),le=({className:e,children:r,fixedTitleCount:a})=>{const[o,n]=l.useState({titles:[]}),[i,_]=l.useState(!1),u=l.useMemo(()=>({tableState:o,setTableState:n,fixedTitleCount:a,isLeftScrolled:i}),[a,o,i]);return d.jsx("article",{className:j(`${s.table} ${e}`),onScroll:f=>_(f.currentTarget.scrollLeft>0),children:d.jsx("table",{children:d.jsx(S.Provider,{value:u,children:r})})})},de=({children:e,className:r})=>{const a=l.Children.count(e),{setTableState:o,tableState:{titles:n}}=l.useContext(S);l.useEffect(()=>{o(_=>({..._,titles:Array.from({length:a},(u,f)=>({order:{origin:f,current:f}}))}))},[a,o]);const i=l.Children.toArray(e);return d.jsx("thead",{className:j(`${s.header} ${r}`),children:d.jsx("tr",{children:n.map(({order:{origin:_}})=>i[_])})})},ce=({children:e,width:r,className:a})=>{var y,w;const{tableState:o,setTableState:n,fixedTitleCount:i,isLeftScrolled:_}=l.useContext(S),{titles:u}=o,f=l.useRef(null);l.useEffect(()=>{const{current:t}=f;if(t){const{offsetWidth:T,cellIndex:C}=t;n(O=>(O.titles[C].width=T,{...O}))}},[f,n,r]);const c=((y=f.current)==null?void 0:y.cellIndex)??-1,{draggingOrder:h,hoveredOrder:g,dropOrder:m}=o,v=t=>{h===void 0&&n(T=>({...T,hoveredOrder:t}))},$=()=>{if(q(h)&&c>=0){let t=[...u];const[T]=t.splice(h,1);t=t.sort((D,k)=>D.order.current-k.order.current);const{order:C}=u[c];t=[...t.slice(0,C.current),T,...t.slice(C.current)],t.forEach((D,k)=>{D.order.current=k});const O={...o,titles:t,dropOrder:void 0,draggingOrder:void 0,hoveredOrder:void 0};n(O),setTimeout(()=>n({...O,hoveredOrder:c}))}};let x=0;for(let t=0;t<c;t+=1)x+=((w=u[t])==null?void 0:w.width)??0;const p=m===c,b=h===c,L=c<i,N=c===i-1,z=g===c;return d.jsx("th",{style:{left:x,width:r},className:j(`${s.title} ${L&&s.fixed} ${N&&_&&s.shadow} ${z&&s.hovered} ${p&&(b||((h??0)>m?s["drop-left"]:s["drop-right"]))} ${b&&(p?s.restoring:s.dragging)} 

        } ${b&&(p?s.restoring:s.dragging)} ${a}`),ref:f,draggable:!0,onMouseEnter:()=>v(c),onMouseLeave:()=>v(),onDragOver:t=>t.preventDefault(),onDragStart:()=>n(t=>({...t,draggingOrder:c})),onDragEnter:()=>n(t=>({...t,dropOrder:c})),onDrop:$,children:d.jsx("div",{className:s["title-content"],children:e})})},_e=({children:e,className:r})=>d.jsx("tbody",{className:r,children:e}),fe=({children:e,className:r})=>{const{tableState:{titles:a}}=l.useContext(S),o=l.Children.toArray(e);return d.jsx("tr",{className:j(`${s.row} ${r}`),children:a.map(({order:{origin:n}})=>o[n])})},ue=({children:e,onCopy:r,className:a})=>{var y,w;const{tableState:{titles:o,hoveredOrder:n,draggingOrder:i,dropOrder:_},fixedTitleCount:u,isLeftScrolled:f,setTableState:c}=l.useContext(S),h=l.useRef(null),g=((y=h.current)==null?void 0:y.cellIndex)??-1,{width:m}=o[g??0]??{};let v=0;for(let t=0;t<g;t+=1)v+=((w=o[t])==null?void 0:w.width)??0;const[$,x]=l.useState(!1),p=_===g,b=i===g,L=g<u,N=g===u-1,z=n===g;return l.useEffect(()=>c(t=>({...t})),[e,c]),d.jsx("td",{ref:h,style:{left:v},className:j(`${s.cell} ${L&&s.fixed} ${N&&f&&s.shadow} ${z&&s.hovered} ${p&&(b||((i??0)>_?s["drop-left"]:s["drop-right"]))} ${b&&(p?s.restoring:s.dragging)} ${a}`),children:m===void 0?null:d.jsxs("div",{style:{width:m},className:s["cell-content-container"],onMouseEnter:({currentTarget:t})=>{(t.scrollWidth>t.clientWidth||r)&&x(!0)},onMouseLeave:()=>x(!1),children:[$?d.jsx("div",{className:s.hidden,children:e}):e,$?d.jsxs("div",{className:s["hovered-cell-content"],children:[e,r?d.jsx("div",{className:s["copy-button-wrap"],children:d.jsx(V,{className:s["copy-button"],size:"small3x",shape:"round",theme:"bluish-gray700/0",icon:d.jsx(K,{size:14}),onClick:()=>{const t=U(e);navigator.clipboard.writeText(t),r==null||r(t)}})}):null]}):null]})})},I=Object.assign(le,{Header:de,Title:ce,Body:_e,Row:fe,Cell:ue});try{I.displayName="Table",I.__docgenInfo={description:"",displayName:"Table",props:{fixedTitleCount:{defaultValue:null,description:"",name:"fixedTitleCount",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{I as T,q as i};
//# sourceMappingURL=index-06f0922b.js.map
