{"version":3,"file":"index-6f0f2d7c.js","sources":["../../../src/assets/svgs/circle-check.svg","../../../src/assets/svgs/circle-exclamation.svg","../../../src/components/atoms/Toast/index.tsx"],"sourcesContent":["export default \"__VITE_ASSET__fde1f10b__\"","export default \"__VITE_ASSET__746622c9__\"","import { useEffect, useState } from 'react';\n\nimport styles from './index.module.scss';\nimport CircleCheck from '../../../assets/svgs/circle-check.svg';\nimport CircleExclamation from '../../../assets/svgs/circle-exclamation.svg';\nimport { cleanClassName } from '../../../utils';\n\nexport interface ToastProps {\n  type?: 'success' | 'fail';\n  children?: React.ReactNode;\n  isSpaceHolding?: boolean;\n  floatDirection?: 'from-top' | 'from-bottom';\n  holdTime?: number;\n  className?: string;\n}\n\ntype ToastState =\n  | 'opening'\n  | 'opened'\n  | 'holding'\n  | 'closing'\n  | 'closed'\n  | 'deleted';\n\nexport const CLOSE_TOAST_ANIMATION_DURATION = 500;\n\nexport const Toast = ({\n  type = 'success',\n  children,\n  isSpaceHolding = false,\n  floatDirection = 'from-top',\n  holdTime = 3000,\n  className,\n}: ToastProps) => {\n  const [toastState, setToastState] = useState<ToastState>('opening');\n\n  useEffect(() => {\n    switch (toastState) {\n      case 'opening':\n        setTimeout(() => setToastState('opened'));\n        break;\n\n      case 'opened': {\n        const holdTimer = setTimeout(() => setToastState('closing'), holdTime);\n        return () => clearTimeout(holdTimer);\n      }\n\n      case 'closing': {\n        const closeTimer = setTimeout(\n          () => setToastState('closed'),\n          CLOSE_TOAST_ANIMATION_DURATION,\n        );\n        return () => clearTimeout(closeTimer);\n      }\n      default:\n    }\n  }, [toastState, holdTime]);\n\n  useEffect(() => {\n    if (toastState === 'closed' && !isSpaceHolding) {\n      setToastState('deleted');\n    }\n  }, [isSpaceHolding, toastState]);\n\n  const isToastHoldable = ['opened', 'holding', 'closing'].includes(toastState);\n\n  const hasSpace =\n    ['opened', 'holding'].includes(toastState) ||\n    (['closing', 'closed'].includes(toastState) && isSpaceHolding);\n\n  return toastState === 'deleted' ? (\n    <></>\n  ) : (\n    <div\n      className={cleanClassName(\n        `${styles['toast-wrap']} ${\n          hasSpace && styles['has-space']\n        } ${className}`,\n      )}\n    >\n      <div\n        onMouseEnter={() => {\n          if (isToastHoldable) {\n            setToastState('holding');\n          }\n        }}\n        onMouseLeave={() => {\n          if (isToastHoldable) {\n            setToastState('opened');\n          }\n        }}\n        className={cleanClassName(\n          `${styles.toast} ${styles[`float-direction-${floatDirection}`]} ${\n            {\n              opening: styles.invisible,\n              opened: styles.opened,\n              holding: styles.opened,\n              closing: styles.closing,\n              closed: styles.invisible,\n            }[toastState]\n          }`,\n        )}\n      >\n        <img\n          src={\n            {\n              success: CircleCheck,\n              fail: CircleExclamation,\n            }[type]\n          }\n          className={styles.icon}\n          alt=\"mark\"\n        />\n        <div className={styles['toast-contents-wrap']}>{children}</div>\n      </div>\n    </div>\n  );\n};\n"],"names":["CircleCheck","CircleExclamation","CLOSE_TOAST_ANIMATION_DURATION","Toast","type","children","isSpaceHolding","floatDirection","holdTime","className","toastState","setToastState","useState","useEffect","holdTimer","closeTimer","isToastHoldable","hasSpace","jsx","Fragment","cleanClassName","styles","jsxs"],"mappings":"+pCAAeA,EAAA,GAAA,IAAA,IAAA,4BAAA,YAAA,GAAA,EAAA,KCAAC,EAAA,GAAA,IAAA,IAAA,kCAAA,YAAA,GAAA,EAAA,KCwBRC,EAAA,IAEAC,EAAA,CAAA,CAAe,KAAAC,EAAA,UACb,SAAAC,EACP,eAAAC,EAAA,GACiB,eAAAC,EAAA,WACA,SAAAC,EAAA,IACN,UAAAC,CAEb,IAAA,CACE,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,SAAA,EAEAC,EAAAA,UAAA,IAAA,CACE,OAAAH,EAAA,CAAoB,IAAA,UAEhB,WAAA,IAAAC,EAAA,QAAA,CAAA,EACA,MAAA,IAAA,SAAA,CAGA,MAAAG,EAAA,WAAA,IAAAH,EAAA,SAAA,EAAAH,CAAA,EACA,MAAA,IAAA,aAAAM,CAAA,CAAmC,CACrC,IAAA,UAAA,CAGE,MAAAC,EAAA,WAAmB,IAAAJ,EAAA,QAAA,EACWT,CAC5B,EAEF,MAAA,IAAA,aAAAa,CAAA,CAAoC,CAEtC,CACF,EAAA,CAAAL,EAAAF,CAAA,CAAA,EAGFK,EAAAA,UAAA,IAAA,CACEH,IAAA,UAAA,CAAAJ,GACEK,EAAA,SAAA,CACF,EAAA,CAAAL,EAAAI,CAAA,CAAA,EAGF,MAAAM,EAAA,CAAA,SAAA,UAAA,SAAA,EAAA,SAAAN,CAAA,EAEAO,EAAA,CAAA,SAAA,SAAA,EAAA,SAAAP,CAAA,GAAA,CAAA,UAAA,QAAA,EAAA,SAAAA,CAAA,GAAAJ,EAIA,OAAAI,IAAA,UAAAQ,EAAAA,IAAAC,EAAAA,SAAA,CAAA,CAAA,EAAAD,EAAA,IAGE,MAAC,CAAA,UAAAE,EACY,GAAAC,EAAA,YAAA,KAAAJ,GAAAI,EAAA,WAAA,KAAAZ,GAGL,EACN,SAAAa,EAAA,KAEA,MAAC,CAAA,aAAA,IAAA,CAEGN,GACEL,EAAA,SAAA,CACF,EACF,aAAA,IAAA,CAEEK,GACEL,EAAA,QAAA,CACF,EACF,UAAAS,EACW,GAAAC,EAAA,SAAAA,EAAA,mBAAAd,GAAA,KAAA,CAEP,QAAAc,EAAA,UACkB,OAAAA,EAAA,OACD,QAAAA,EAAA,OACC,QAAAA,EAAA,QACA,OAAAA,EAAA,SACD,EAAAX,CAAA,GACL,EAEhB,SAAA,CAEAQ,EAAA,IAAA,MAAC,CAAA,IAAA,CAEG,QAAAlB,EACW,KAAAC,CACH,EAAAG,CAAA,EACF,UAAAiB,EAAA,KAEU,IAAA,MACd,CAAA,EACNH,EAAA,IAAA,MAAA,CAAA,UAAAG,EAAA,qBAAA,EAAA,SAAAhB,EAAA,CACyD,CAAA,CAAA,CAC3D,CAAA,CAGN"}