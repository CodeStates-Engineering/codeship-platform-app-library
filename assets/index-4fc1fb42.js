import{j as c}from"./jsx-runtime-94f6e698.js";import{r as a,R}from"./index-8db94870.js";import{c as y}from"./index-64131664.js";import"./index-079ad32f.js";import{P as E}from"./index-1fc0ca9a.js";import{i as W}from"./isNumber-3648e59b.js";import{B}from"./index-6d56ed8f.js";function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},k.apply(this,arguments)}function V(e,t){if(e==null)return{};var o=F(e,t),r,n;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function F(e,t){if(e==null)return{};var o={},r=Object.keys(e),n,l;for(l=0;l<r.length;l++)n=r[l],!(t.indexOf(n)>=0)&&(o[n]=e[n]);return o}var M=a.forwardRef(function(e,t){var o=e.color,r=o===void 0?"currentColor":o,n=e.size,l=n===void 0?24:n,p=V(e,["color","size"]);return R.createElement("svg",k({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},p),R.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),R.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});M.propTypes={color:E.string,size:E.oneOfType([E.string,E.number])};M.displayName="Copy";const q=M;var A={};Object.defineProperty(A,"__esModule",{value:!0});const G=a,H=function(e){let t="";return typeof e=="string"?t=e:typeof e=="number"?t=e.toString():e instanceof Array?e.forEach(function(o){t+=H(o)}):(0,G.isValidElement)(e)&&(t+=H(e.props.children)),t};var J=A.default=H;const K="_table_cpzye_461",Q="_header_cpzye_474",U="_title_cpzye_480",X="_hovered_cpzye_487",Y="_row_cpzye_497",Z="_cell_cpzye_500",ee="_hidden_cpzye_542",te="_dragging_cpzye_564",re="_restoring_cpzye_569",oe="_fixed_cpzye_574",ne="_shadow_cpzye_578",se="_invisible_cpzye_589",s={table:K,header:Q,title:U,hovered:X,"title-content":"_title-content_cpzye_491",row:Y,cell:Z,"drop-left":"_drop-left_cpzye_517","drop-right":"_drop-right_cpzye_518","cell-content-container":"_cell-content-container_cpzye_530","hovered-cell-content":"_hovered-cell-content_cpzye_538",hidden:ee,"fade-in":"_fade-in_cpzye_1",dragging:te,restoring:re,fixed:oe,shadow:ne,"copy-button-wrap":"_copy-button-wrap_cpzye_582",invisible:se,"fade-out":"_fade-out_cpzye_1","shake-horizontal":"_shake-horizontal_cpzye_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_cpzye_1","slide-in-fwd-center":"_slide-in-fwd-center_cpzye_1","scale-in-center":"_scale-in-center_cpzye_1","slide-in-right":"_slide-in-right_cpzye_1","slide-in-left":"_slide-in-left_cpzye_1","slide-out-right":"_slide-out-right_cpzye_1","slide-out-left":"_slide-out-left_cpzye_1","scale-in-top":"_scale-in-top_cpzye_1","scale-out-top":"_scale-out-top_cpzye_1","swing-in-top-fwd":"_swing-in-top-fwd_cpzye_1","fade-in-top":"_fade-in-top_cpzye_1","fade-out-top":"_fade-out-top_cpzye_1","fade-in-bottom":"_fade-in-bottom_cpzye_1","fade-out-bottom":"_fade-out-bottom_cpzye_1","scale-out-horizontal":"_scale-out-horizontal_cpzye_1"},m=a.createContext({tableState:{titles:[]},setTableState:()=>{},fixedTitleCount:0,isLeftScrolled:!1}),ie=({className:e,children:t,fixedTitleCount:o})=>{const[r,n]=a.useState({titles:[]}),[l,p]=a.useState(!1),g=a.useMemo(()=>({tableState:r,setTableState:n,fixedTitleCount:o,isLeftScrolled:l}),[o,r,l]);return c.jsx("article",{className:y(`${s.table} ${e}`),onScroll:f=>p(f.currentTarget.scrollLeft>0),children:c.jsx("table",{children:c.jsx(m.Provider,{value:g,children:t})})})},le=({children:e,className:t})=>{const o=a.Children.count(e),{setTableState:r,tableState:{titles:n}}=a.useContext(m);a.useEffect(()=>{r(p=>({...p,titles:Array.from({length:o},(g,f)=>({order:{origin:f,current:f}}))}))},[o,r]);const l=a.Children.toArray(e);return c.jsx("thead",{className:y(`${s.header} ${t}`),children:c.jsx("tr",{children:n.map(({order:{origin:p}})=>l[p])})})},ae=({children:e,width:t,className:o})=>{var w,u;const{tableState:r,setTableState:n,fixedTitleCount:l,isLeftScrolled:p}=a.useContext(m),{titles:g}=r,f=a.useRef(null);a.useEffect(()=>{const{current:i}=f;if(i){const{offsetWidth:T,cellIndex:C}=i;n(O=>(O.titles[C].width=T,{...O}))}},[f,n,t]);const d=((w=f.current)==null?void 0:w.cellIndex)??-1,{draggingOrder:_,hoveredOrder:j,dropOrder:b}=r,v=i=>{_===void 0&&n(T=>({...T,hoveredOrder:i}))},$=()=>{if(W(_)&&d>=0){let i=[...g];const[T]=i.splice(_,1);i=i.sort((D,P)=>D.order.current-P.order.current);const{order:C}=g[d];i=[...i.slice(0,C.current),T,...i.slice(C.current)],i.forEach((D,P)=>{D.order.current=P});const O={...r,titles:i,dropOrder:void 0,draggingOrder:void 0,hoveredOrder:void 0};n(O),setTimeout(()=>n({...O,hoveredOrder:d}))}};let x=0;for(let i=0;i<d;i+=1)x+=((u=g[i])==null?void 0:u.width)??0;const h=b===d,z=_===d,L=d<l,N=d===l-1,S=j===d;return c.jsx("th",{style:{left:x},className:y(`${s.title} ${L&&s.fixed} ${N&&p&&s.shadow} ${S&&s.hovered} ${h&&(z||((_??0)>b?s["drop-left"]:s["drop-right"]))} ${z&&(h?s.restoring:s.dragging)} 

        } ${z&&(h?s.restoring:s.dragging)} ${o}`),ref:f,draggable:!0,onMouseEnter:()=>v(d),onMouseLeave:()=>v(),onDragOver:i=>i.preventDefault(),onDragStart:()=>n(i=>({...i,draggingOrder:d})),onDragEnter:()=>n(i=>({...i,dropOrder:d})),onDrop:$,children:c.jsx("div",{className:s["title-content"],style:{width:t},children:e})})},ce=({children:e,className:t})=>{var r;const o=((r=a.useContext(m).tableState.titles[0])==null?void 0:r.width)!==void 0;return c.jsx("tbody",{className:y(`${o||s.invisible} ${t}`),children:e})},de=({children:e,className:t})=>{const{tableState:{titles:o}}=a.useContext(m),r=a.Children.toArray(e);return c.jsx("tr",{className:y(`${s.row} ${t}`),children:o.map(({order:{origin:n}})=>r[n])})},_e=({children:e,onCopy:t,className:o})=>{var S,w;const{tableState:{titles:r,hoveredOrder:n,draggingOrder:l,dropOrder:p},fixedTitleCount:g,isLeftScrolled:f}=a.useContext(m),d=a.useRef(null),_=((S=d.current)==null?void 0:S.cellIndex)??-1,{width:j}=r[_??0]??{};let b=0;for(let u=0;u<_;u+=1)b+=((w=r[u])==null?void 0:w.width)??0;const[v,$]=a.useState(!1),x=p===_,h=l===_,z=_<g,L=_===g-1,N=n===_;return c.jsx("td",{ref:d,style:{left:b},className:y(`${s.cell} ${z&&s.fixed} ${L&&f&&s.shadow} ${N&&s.hovered} ${x&&(h||((l??0)>p?s["drop-left"]:s["drop-right"]))} ${h&&(x?s.restoring:s.dragging)} ${o}`),children:j===void 0?null:c.jsxs("div",{style:{width:j},className:s["cell-content-container"],onMouseEnter:({currentTarget:u})=>{(u.scrollWidth>u.clientWidth||t)&&$(!0)},onMouseLeave:()=>$(!1),children:[v?c.jsx("div",{className:s.hidden,children:e}):e,v?c.jsxs("div",{className:s["hovered-cell-content"],children:[e,t?c.jsx("div",{className:s["copy-button-wrap"],children:c.jsx(B,{className:s["copy-button"],size:"small3x",shape:"round",theme:"bluish-gray700/0",icon:c.jsx(q,{size:14}),onClick:()=>{const u=J(e);navigator.clipboard.writeText(u),t==null||t(u)}})}):null]}):null]})})},I=Object.assign(ie,{Header:le,Title:ae,Body:ce,Row:de,Cell:_e});try{I.displayName="Table",I.__docgenInfo={description:"",displayName:"Table",props:{fixedTitleCount:{defaultValue:null,description:"",name:"fixedTitleCount",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{I as T};
//# sourceMappingURL=index-4fc1fb42.js.map
