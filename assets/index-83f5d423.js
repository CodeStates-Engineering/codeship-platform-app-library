import{j as _}from"./jsx-runtime-94f6e698.js";import{r as l,R as H}from"./index-8db94870.js";import{_ as W}from"./index-d384cd4d.js";import{c as T}from"./index-64131664.js";import"./index-a929f743.js";import{d as A}from"./index-fc4f8fe1.js";import{P as z}from"./index-1fc0ca9a.js";import{b as B,c as F}from"./isObject-9c705d90.js";import{B as V}from"./index-18098115.js";var q="[object Number]";function G(e){return typeof e=="number"||B(e)&&F(e)==q}function P(){return P=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},P.apply(this,arguments)}function J(e,n){if(e==null)return{};var s=K(e,n),t,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function K(e,n){if(e==null)return{};var s={},t=Object.keys(e),r,a;for(a=0;a<t.length;a++)r=t[a],!(n.indexOf(r)>=0)&&(s[r]=e[r]);return s}var I=l.forwardRef(function(e,n){var s=e.color,t=s===void 0?"currentColor":s,r=e.size,a=r===void 0?24:r,f=J(e,["color","size"]);return H.createElement("svg",P({ref:n,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},f),H.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),H.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});I.propTypes={color:z.string,size:z.oneOfType([z.string,z.number])};I.displayName="Copy";const Q=I,U="_table_1a4ih_461",X="_header_1a4ih_476",Y="_title_1a4ih_482",Z="_hovered_1a4ih_490",ee="_row_1a4ih_501",te="_cell_1a4ih_504",re="_overflow_1a4ih_542",oe="_hidden_1a4ih_552",ne="_dragging_1a4ih_578",ie="_restoring_1a4ih_583",se="_fixed_1a4ih_588",ae="_shadow_1a4ih_592",o={table:U,"fade-in":"_fade-in_1a4ih_1",header:X,title:Y,hovered:Z,"title-content":"_title-content_1a4ih_494",row:ee,cell:te,"drop-left":"_drop-left_1a4ih_522","drop-right":"_drop-right_1a4ih_523","cell-content-container":"_cell-content-container_1a4ih_535",overflow:re,"not-overflow":"_not-overflow_1a4ih_545","hovered-cell-content-wrap":"_hovered-cell-content-wrap_1a4ih_548",hidden:oe,"has-style":"_has-style_1a4ih_574",dragging:ne,restoring:ie,fixed:se,shadow:ae,"hovered-cell-content":"_hovered-cell-content_1a4ih_548","copy-button-wrap":"_copy-button-wrap_1a4ih_603","fade-out":"_fade-out_1a4ih_1","shake-horizontal":"_shake-horizontal_1a4ih_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_1a4ih_1","slide-in-fwd-center":"_slide-in-fwd-center_1a4ih_1","scale-in-center":"_scale-in-center_1a4ih_1","slide-in-right":"_slide-in-right_1a4ih_1","slide-in-left":"_slide-in-left_1a4ih_1","slide-out-right":"_slide-out-right_1a4ih_1","slide-out-left":"_slide-out-left_1a4ih_1","scale-in-top":"_scale-in-top_1a4ih_1","scale-out-top":"_scale-out-top_1a4ih_1","swing-in-top-fwd":"_swing-in-top-fwd_1a4ih_1","fade-in-top":"_fade-in-top_1a4ih_1","fade-out-top":"_fade-out-top_1a4ih_1","fade-in-bottom":"_fade-in-bottom_1a4ih_1","fade-out-bottom":"_fade-out-bottom_1a4ih_1","scale-out-horizontal":"_scale-out-horizontal_1a4ih_1"},j=l.createContext({tableState:{titles:[]},setTableState:()=>{},fixedTitleCount:0,isLeftScrolled:!1,isLoading:!1}),le=({className:e,children:n,fixedTitleCount:s=0})=>{const[t,r]=l.useState({titles:[]}),[a,f]=l.useState(!1);l.useEffect(()=>{const h=A(()=>{r(u=>(u.titles.forEach(d=>{d.width=void 0}),{...u}))},300);return window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]);const p=l.useMemo(()=>{const h=!t.titles.find(({width:u})=>!!u);return{tableState:t,setTableState:r,fixedTitleCount:s,isLeftScrolled:a,isLoading:h}},[s,t,a]);return _.jsx("article",{className:T(`${o.table} ${e}`),onScroll:h=>f(h.currentTarget.scrollLeft>0),children:_.jsx("table",{children:_.jsx(j.Provider,{value:p,children:n})})})},de=({children:e,className:n})=>{const s=l.Children.count(e),{setTableState:t,tableState:{titles:r}}=l.useContext(j);l.useEffect(()=>{t(f=>({...f,titles:Array.from({length:s},(p,h)=>({order:{origin:h,current:h}}))}))},[s,t]);const a=l.Children.toArray(e);return _.jsx("thead",{className:T(`${o.header} ${n}`),children:_.jsx("tr",{children:r.map(({order:{origin:f}})=>a[f])})})},ce=({children:e,width:n,className:s})=>{var E,C;const{tableState:t,setTableState:r,fixedTitleCount:a,isLeftScrolled:f,isLoading:p}=l.useContext(j),{titles:h}=t,u=l.useRef(null);l.useEffect(()=>{const{current:i}=u;if(i){const{offsetWidth:v,cellIndex:b}=i;(n||!p)&&r(c=>(c.titles[b].width=v,{...c}))}},[u,r,n,p]);const d=((E=u.current)==null?void 0:E.cellIndex)??-1,{draggingOrder:m,hoveredOrder:$,dropOrder:g}=t,S=i=>{m===void 0&&r(v=>({...v,hoveredOrder:i}))},L=()=>{if(G(m)&&d>=0){let i=[...h];const[v]=i.splice(m,1);i=i.sort((y,R)=>y.order.current-R.order.current);const{order:b}=h[d];i=[...i.slice(0,b.current),v,...i.slice(b.current)],i.forEach((y,R)=>{y.order.current=R});const c={...t,titles:i,dropOrder:void 0,draggingOrder:void 0,hoveredOrder:void 0};r(c),setTimeout(()=>r({...c,hoveredOrder:d}))}};let O=0;for(let i=0;i<d;i+=1)O+=((C=h[i])==null?void 0:C.width)??0;const w=g===d,x=m===d,N=d<a,D=d===a-1,k=$===d;return _.jsx("th",{style:{left:O,width:n},className:T(`${o.title} ${N&&o.fixed} ${D&&f&&o.shadow} ${k&&o.hovered} ${w&&(x||((m??0)>g?o["drop-left"]:o["drop-right"]))} ${x&&(w?o.restoring:o.dragging)} 

        } ${x&&(w?o.restoring:o.dragging)} ${s}`),ref:u,draggable:!0,onMouseEnter:()=>S(d),onMouseLeave:()=>S(),onDragOver:i=>i.preventDefault(),onDragStart:()=>r(i=>({...i,draggingOrder:d})),onDragEnter:()=>r(i=>({...i,dropOrder:d})),onDrop:L,children:_.jsx("div",{className:o["title-content"],children:e})})},_e=({children:e,className:n})=>_.jsx("tbody",{className:n,children:e}),he=({children:e,className:n})=>{const{tableState:{titles:s}}=l.useContext(j),t=l.Children.toArray(e);return _.jsx("tr",{className:T(`${o.row} ${n}`),children:s.map(({order:{origin:r}})=>t[r])})},fe=({children:e,onCopy:n,className:s,hoverStyle:t})=>{var v,b;const{tableState:{titles:r,hoveredOrder:a,draggingOrder:f,dropOrder:p},fixedTitleCount:h,isLeftScrolled:u,setTableState:d,isLoading:m}=l.useContext(j),$=l.useRef(null),g=((v=$.current)==null?void 0:v.cellIndex)??-1,{width:S}=r[g??0]??{};let L=0;for(let c=0;c<g;c+=1)L+=((b=r[c])==null?void 0:b.width)??0;const[O,w]=l.useState(!1),x=p===g,N=f===g,D=g<h,k=g===h-1,E=a===g;l.useEffect(()=>d(c=>({...c})),[e,d]);const[C,i]=l.useState(!0);return _.jsx("td",{ref:$,style:{left:L},className:T(`${o.cell} ${D&&o.fixed} ${k&&u&&o.shadow} ${E&&o.hovered} ${x&&(N||((f??0)>p?o["drop-left"]:o["drop-right"]))} ${N&&(x?o.restoring:o.dragging)} ${s}`),children:m?null:_.jsxs("div",{style:{width:S},className:`${o["cell-content-container"]} ${C?o.overflow:o["not-overflow"]}`,onMouseEnter:({currentTarget:c})=>{const y=c.scrollWidth>c.clientWidth;(y||n)&&w(!0),y||i(!1)},onMouseLeave:()=>w(!1),children:[O?_.jsx("div",{className:o.hidden,children:e}):e,O?_.jsxs("div",{className:T(`${o["hovered-cell-content-wrap"]} ${t&&o["has-style"]}`),style:t,children:[_.jsx("div",{className:o["hovered-cell-content"],children:e}),n?_.jsx("div",{className:o["copy-button-wrap"],children:_.jsx(V,{size:"small3x",shape:"round",theme:"bluish-gray700/0",icon:_.jsx(Q,{size:14}),onClick:()=>{const c=W(e);navigator.clipboard.writeText(c),n==null||n(c)}})}):null]}):null]})})},M=Object.assign(le,{Header:de,Title:ce,Body:_e,Row:he,Cell:fe});try{M.displayName="Table",M.__docgenInfo={description:"",displayName:"Table",props:{fixedTitleCount:{defaultValue:{value:"0"},description:"",name:"fixedTitleCount",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{M as T,G as i};
//# sourceMappingURL=index-83f5d423.js.map
