import{j as d}from"./jsx-runtime-94f6e698.js";import{r as a,R as P}from"./index-8db94870.js";import{c as O}from"./index-64131664.js";import"./index-a89e2310.js";import{P as C}from"./index-1fc0ca9a.js";import{b as W,c as B}from"./isObject-9c705d90.js";import{B as V}from"./index-18098115.js";var F="[object Number]";function q(e){return typeof e=="number"||W(e)&&B(e)==F}function H(){return H=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},H.apply(this,arguments)}function G(e,r){if(e==null)return{};var s=J(e,r),o,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(s[o]=e[o])}return s}function J(e,r){if(e==null)return{};var s={},o=Object.keys(e),n,i;for(i=0;i<o.length;i++)n=o[i],!(r.indexOf(n)>=0)&&(s[n]=e[n]);return s}var R=a.forwardRef(function(e,r){var s=e.color,o=s===void 0?"currentColor":s,n=e.size,i=n===void 0?24:n,_=G(e,["color","size"]);return P.createElement("svg",H({ref:r,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},_),P.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),P.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});R.propTypes={color:C.string,size:C.oneOfType([C.string,C.number])};R.displayName="Copy";const K=R;var A={};Object.defineProperty(A,"__esModule",{value:!0});const Q=a,M=function(e){let r="";return typeof e=="string"?r=e:typeof e=="number"?r=e.toString():e instanceof Array?e.forEach(function(s){r+=M(s)}):(0,Q.isValidElement)(e)&&(r+=M(e.props.children)),r};var U=A.default=M;const X="_table_zdlhr_461",Y="_header_zdlhr_476",Z="_title_zdlhr_482",ee="_hovered_zdlhr_490",te="_row_zdlhr_500",re="_cell_zdlhr_503",oe="_hidden_zdlhr_546",ne="_dragging_zdlhr_568",le="_restoring_zdlhr_573",se="_fixed_zdlhr_578",ie="_shadow_zdlhr_582",l={table:X,"fade-in":"_fade-in_zdlhr_1",header:Y,title:Z,hovered:ee,"title-content":"_title-content_zdlhr_494",row:te,cell:re,"drop-left":"_drop-left_zdlhr_521","drop-right":"_drop-right_zdlhr_522","cell-content-container":"_cell-content-container_zdlhr_534","hovered-cell-content":"_hovered-cell-content_zdlhr_542",hidden:oe,dragging:ne,restoring:le,fixed:se,shadow:ie,"copy-button-wrap":"_copy-button-wrap_zdlhr_586","fade-out":"_fade-out_zdlhr_1","shake-horizontal":"_shake-horizontal_zdlhr_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_zdlhr_1","slide-in-fwd-center":"_slide-in-fwd-center_zdlhr_1","scale-in-center":"_scale-in-center_zdlhr_1","slide-in-right":"_slide-in-right_zdlhr_1","slide-in-left":"_slide-in-left_zdlhr_1","slide-out-right":"_slide-out-right_zdlhr_1","slide-out-left":"_slide-out-left_zdlhr_1","scale-in-top":"_scale-in-top_zdlhr_1","scale-out-top":"_scale-out-top_zdlhr_1","swing-in-top-fwd":"_swing-in-top-fwd_zdlhr_1","fade-in-top":"_fade-in-top_zdlhr_1","fade-out-top":"_fade-out-top_zdlhr_1","fade-in-bottom":"_fade-in-bottom_zdlhr_1","fade-out-bottom":"_fade-out-bottom_zdlhr_1","scale-out-horizontal":"_scale-out-horizontal_zdlhr_1"},j=a.createContext({tableState:{titles:[]},setTableState:()=>{},fixedTitleCount:0,isLeftScrolled:!1}),ae=({className:e,children:r,fixedTitleCount:s})=>{const[o,n]=a.useState({titles:[]}),[i,_]=a.useState(!1),f=a.useMemo(()=>({tableState:o,setTableState:n,fixedTitleCount:s,isLeftScrolled:i}),[s,o,i]);return d.jsx("article",{className:O(`${l.table} ${e}`),onScroll:h=>_(h.currentTarget.scrollLeft>0),children:d.jsx("table",{children:d.jsx(j.Provider,{value:f,children:r})})})},de=({children:e,className:r})=>{const s=a.Children.count(e),{setTableState:o,tableState:{titles:n}}=a.useContext(j);a.useEffect(()=>{o(_=>({..._,titles:Array.from({length:s},(f,h)=>({order:{origin:h,current:h}}))}))},[s,o]);const i=a.Children.toArray(e);return d.jsx("thead",{className:O(`${l.header} ${r}`),children:d.jsx("tr",{children:n.map(({order:{origin:_}})=>i[_])})})},ce=({children:e,width:r,className:s})=>{var z,y;const{tableState:o,setTableState:n,fixedTitleCount:i,isLeftScrolled:_}=a.useContext(j),{titles:f}=o,h=a.useRef(null);a.useEffect(()=>{const{current:t}=h;if(t){const{offsetWidth:w,cellIndex:$}=t;n(T=>(T.titles[$].width=w,{...T}))}},[h,n,r]);const c=((z=h.current)==null?void 0:z.cellIndex)??-1,{draggingOrder:g,hoveredOrder:u,dropOrder:m}=o,v=t=>{g===void 0&&n(w=>({...w,hoveredOrder:t}))},S=()=>{if(q(g)&&c>=0){let t=[...f];const[w]=t.splice(g,1);t=t.sort((D,k)=>D.order.current-k.order.current);const{order:$}=f[c];t=[...t.slice(0,$.current),w,...t.slice($.current)],t.forEach((D,k)=>{D.order.current=k});const T={...o,titles:t,dropOrder:void 0,draggingOrder:void 0,hoveredOrder:void 0};n(T),setTimeout(()=>n({...T,hoveredOrder:c}))}};let x=0;for(let t=0;t<c;t+=1)x+=((y=f[t])==null?void 0:y.width)??0;const p=m===c,b=g===c,E=c<i,L=c===i-1,N=u===c;return d.jsx("th",{style:{left:x,width:r},className:O(`${l.title} ${E&&l.fixed} ${L&&_&&l.shadow} ${N&&l.hovered} ${p&&(b||((g??0)>m?l["drop-left"]:l["drop-right"]))} ${b&&(p?l.restoring:l.dragging)} 

        } ${b&&(p?l.restoring:l.dragging)} ${s}`),ref:h,draggable:!0,onMouseEnter:()=>v(c),onMouseLeave:()=>v(),onDragOver:t=>t.preventDefault(),onDragStart:()=>n(t=>({...t,draggingOrder:c})),onDragEnter:()=>n(t=>({...t,dropOrder:c})),onDrop:S,children:d.jsx("div",{className:l["title-content"],children:e})})},_e=({children:e,className:r})=>d.jsx("tbody",{className:r,children:e}),he=({children:e,className:r})=>{const{tableState:{titles:s}}=a.useContext(j),o=a.Children.toArray(e);return d.jsx("tr",{className:O(`${l.row} ${r}`),children:s.map(({order:{origin:n}})=>o[n])})},fe=({children:e,onCopy:r,className:s})=>{var z,y;const{tableState:{titles:o,hoveredOrder:n,draggingOrder:i,dropOrder:_},fixedTitleCount:f,isLeftScrolled:h,setTableState:c}=a.useContext(j),g=a.useRef(null),u=((z=g.current)==null?void 0:z.cellIndex)??-1,{width:m}=o[u??0]??{};let v=0;for(let t=0;t<u;t+=1)v+=((y=o[t])==null?void 0:y.width)??0;const[S,x]=a.useState(!1),p=_===u,b=i===u,E=u<f,L=u===f-1,N=n===u;return a.useEffect(()=>c(t=>({...t})),[e,c]),d.jsx("td",{ref:g,style:{left:v},className:O(`${l.cell} ${E&&l.fixed} ${L&&h&&l.shadow} ${N&&l.hovered} ${p&&(b||((i??0)>_?l["drop-left"]:l["drop-right"]))} ${b&&(p?l.restoring:l.dragging)} ${s}`),children:m===void 0?null:d.jsxs("div",{style:{width:m},className:l["cell-content-container"],onMouseEnter:({currentTarget:t})=>{(t.scrollWidth>t.clientWidth||r)&&x(!0)},onMouseLeave:()=>x(!1),children:[S?d.jsx("div",{className:l.hidden,children:e}):e,S?d.jsxs("div",{className:l["hovered-cell-content"],children:[e,r?d.jsx("div",{className:l["copy-button-wrap"],children:d.jsx(V,{className:l["copy-button"],size:"small3x",shape:"round",theme:"bluish-gray700/0",icon:d.jsx(K,{size:14}),onClick:()=>{const t=U(e);navigator.clipboard.writeText(t),r==null||r(t)}})}):null]}):null]})})},I=Object.assign(ae,{Header:de,Title:ce,Body:_e,Row:he,Cell:fe});try{I.displayName="Table",I.__docgenInfo={description:"",displayName:"Table",props:{fixedTitleCount:{defaultValue:null,description:"",name:"fixedTitleCount",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{I as T,q as i};
//# sourceMappingURL=index-57cfbdaf.js.map
