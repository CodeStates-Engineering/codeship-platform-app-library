{"version":3,"file":"index-e7ab3fb1.js","sources":["../../../src/components/molecules/Dropdown/index.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nimport styles from './index.module.scss';\nimport { cleanClassName } from '../../../utils';\nimport { FocusLayer } from '../../atoms';\n\nimport type { FocusLayerProps } from '../../atoms';\n\nexport interface DropdownProps\n  extends Pick<FocusLayerProps, 'blur' | 'priority'> {\n  opened?: boolean;\n  children?: React.ReactNode;\n  className?: string;\n  onClose?: FocusLayerProps['onBlur'];\n}\n\nexport const Dropdown = ({\n  opened = false,\n  children,\n  className,\n  onClose,\n  blur,\n  priority,\n}: DropdownProps) => {\n  const [openState, setOpenState] = useState<boolean | 'closing'>(opened);\n  useEffect(\n    () =>\n      setOpenState((prevOpenState) => {\n        if (opened) {\n          return true;\n        }\n        if (prevOpenState) {\n          return 'closing';\n        }\n        return prevOpenState;\n      }),\n    [opened],\n  );\n\n  useEffect(() => {\n    if (openState === 'closing') {\n      const timeout = setTimeout(() => {\n        setOpenState(false);\n      }, 300);\n      return () => clearTimeout(timeout);\n    }\n  }, [openState]);\n\n  return openState ? (\n    <FocusLayer\n      blur={blur}\n      priority={priority}\n      focused={!!openState}\n      onBlur={onClose}\n      className={cleanClassName(\n        `${styles.dropdown} ${\n          openState === 'closing' && styles.closing\n        } ${className}`,\n      )}\n    >\n      {children}\n    </FocusLayer>\n  ) : (\n    <></>\n  );\n};\n"],"names":["Dropdown","opened","children","className","onClose","blur","priority","openState","setOpenState","useState","useEffect","prevOpenState","timeout","jsx","FocusLayer","cleanClassName","styles","Fragment"],"mappings":"ygCAgBOA,EAAA,CAAA,CAAkB,OAAAC,EAAA,GACd,SAAAC,EACT,UAAAC,EACA,QAAAC,EACA,KAAAC,EACA,SAAAC,CAEF,IAAA,CACE,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAAR,CAAA,EACAS,OAAAA,EAAA,UAAA,IAAAF,EAAAG,GAGMV,EACE,GAEFU,GACE,SAEK,EACR,CAAAV,CAAA,CACI,EAGTS,EAAAA,UAAA,IAAA,CACE,GAAAH,IAAA,UAAA,CACE,MAAAK,EAAA,WAAA,IAAA,CACEJ,EAAA,EAAA,CAAkB,EAAA,GAAA,EAEpB,MAAA,IAAA,aAAAI,CAAA,EACF,EAAA,CAAAL,CAAA,CAAA,EAGFA,EAAAM,EAAA,IACEC,EAAC,CAAA,KAAAT,EACC,SAAAC,EACA,QAAA,CAAA,CAAAC,EACW,OAAAH,EACH,UAAAW,EACG,GAAAC,EAAA,YAAAT,IAAA,WAAAS,EAAA,WAAAb,GAGL,EACN,SAAAD,CAEC,CAAA,EAAAW,EAAA,IAAAI,WAAA,CAAA,CAAA,CAKP"}