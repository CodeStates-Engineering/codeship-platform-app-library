import{j as d}from"./jsx-runtime-94f6e698.js";import{r as p,R as E}from"./index-8db94870.js";import"./index-e3b5ba34.js";import{c as v}from"./index-64131664.js";import{u as H}from"./useTypography-0e7bc425.js";import{P as x}from"./index-1fc0ca9a.js";function j(){return j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var f=arguments[e];for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(t[a]=f[a])}return t},j.apply(this,arguments)}function L(t,e){if(t==null)return{};var f=W(t,e),a,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)a=i[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(f[a]=t[a])}return f}function W(t,e){if(t==null)return{};var f={},a=Object.keys(t),o,i;for(i=0;i<a.length;i++)o=a[i],!(e.indexOf(o)>=0)&&(f[o]=t[o]);return f}var k=p.forwardRef(function(t,e){var f=t.color,a=f===void 0?"currentColor":f,o=t.size,i=o===void 0?24:o,z=L(t,["color","size"]);return E.createElement("svg",j({ref:e,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},z),E.createElement("polyline",{points:"20 6 9 17 4 12"}))});k.propTypes={color:x.string,size:x.oneOfType([x.string,x.number])};k.displayName="Check";const M=k,A="_options_1faf1_461",F="_closing_1faf1_473",I="_opening_1faf1_473",B="_top_1faf1_476",D="_bottom_1faf1_488",U="_selected_1faf1_576",G="_hovered_1faf1_581",J="_show_1faf1_590",l={options:A,closing:F,opening:I,top:B,"fade-in-bottom":"_fade-in-bottom_1faf1_1","fade-out-bottom":"_fade-out-bottom_1faf1_1",bottom:D,"fade-in-top":"_fade-in-top_1faf1_1","fade-out-top":"_fade-out-top_1faf1_1","option-container":"_option-container_1faf1_501","option-wrap":"_option-wrap_1faf1_516","option-item":"_option-item_1faf1_521","font-size-large4x":"_font-size-large4x_1faf1_540","font-size-large3x":"_font-size-large3x_1faf1_543","font-size-large2x":"_font-size-large2x_1faf1_546","font-size-large":"_font-size-large_1faf1_540","font-size-medium":"_font-size-medium_1faf1_552","font-size-normal":"_font-size-normal_1faf1_555","font-size-small":"_font-size-small_1faf1_558","font-size-small2x":"_font-size-small2x_1faf1_561","font-size-small3x":"_font-size-small3x_1faf1_564","font-weight-700":"_font-weight-700_1faf1_567","font-weight-500":"_font-weight-500_1faf1_570","font-weight-400":"_font-weight-400_1faf1_573",selected:U,hovered:G,"icon-wrap":"_icon-wrap_1faf1_586",show:J,"fade-in":"_fade-in_1faf1_1","fade-out":"_fade-out_1faf1_1","shake-horizontal":"_shake-horizontal_1faf1_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_1faf1_1","slide-in-fwd-center":"_slide-in-fwd-center_1faf1_1","scale-in-center":"_scale-in-center_1faf1_1","slide-in-right":"_slide-in-right_1faf1_1","slide-in-left":"_slide-in-left_1faf1_1","slide-out-right":"_slide-out-right_1faf1_1","slide-out-left":"_slide-out-left_1faf1_1","scale-in-top":"_scale-in-top_1faf1_1","scale-out-top":"_scale-out-top_1faf1_1","swing-in-top-fwd":"_swing-in-top-fwd_1faf1_1","scale-out-horizontal":"_scale-out-horizontal_1faf1_1"},$=({opened:t=!1,options:e,multiple:f=!1,value:a,onChange:o,onKeyDown:i,float:z="bottom",className:N,optionStyle:n})=>{const[g,y]=p.useState(t);p.useEffect(()=>{y(u=>u!==t?t?"opening":"closing":u)},[t]);const b=typeof g=="string",[C,h]=p.useState(-1),[V,q]=p.useMemo(()=>[{width:n==null?void 0:n.width},{maxHeight:n==null?void 0:n.maxHeight}],[n==null?void 0:n.maxHeight,n==null?void 0:n.width]);p.useEffect(()=>{if(b){const u=g==="opening";h((e==null?void 0:e.findIndex(({value:r})=>r===a))??-1);const s=setTimeout(()=>y(u),250);return()=>clearTimeout(s)}},[b,g,e,a]);const w=p.useRef([]);p.useEffect(()=>{if(g===!0&&e){const u=s=>{switch(i==null||i(s),s.key){case"ArrowUp":return s.preventDefault(),h(r=>{var _;if(r>0){const c=r-1;return(_=w.current[c])==null||_.focus(),c}return r});case"ArrowDown":return s.preventDefault(),h(r=>{var _;if(r<e.length-1){const c=r+1;return(_=w.current[c])==null||_.focus(),c}return r});case"Enter":return s.preventDefault(),h(r=>{var _;return r>=0&&((_=w.current[r])==null||_.click()),r})}};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)}},[g,e,i]);const{fontSizeClassName:P,fontWeightClassName:T}=H(n==null?void 0:n.fontSize,n==null?void 0:n.fontWeight);return g&&(e!=null&&e.length)?d.jsx("section",{style:V,className:v(`${l.options} ${l[z]} ${b&&l[g]} ${N}`),children:d.jsx("ul",{className:v(l["option-container"]),style:q,children:e==null?void 0:e.map(({label:u,value:s},r)=>{const _=r===C,c=(()=>a===void 0?!1:f&&a instanceof Array?a.includes(s):a===s)();return d.jsx("li",{className:l["option-wrap"],children:d.jsxs("button",{type:"button",ref:m=>{w.current[r]=m},className:v(`${l["option-item"]} ${l[P]} ${l[T]} ${_&&l.hovered} ${c&&l.selected}`),onClick:()=>{if(f){const m=a??[],O=o;O==null||O(c?m.filter(R=>R!==s):[...m,s])}else{const m=o;m==null||m(c?void 0:s)}},onMouseEnter:()=>{h(r)},children:[d.jsx("div",{children:u}),f?d.jsx("div",{className:v(`${l["icon-wrap"]} ${c&&l.show}`),children:d.jsx(M,{size:"1em"})}):null]})},r)})})}):d.jsx(d.Fragment,{})};try{$.displayName="Options",$.__docgenInfo={description:"",displayName:"Options",props:{opened:{defaultValue:{value:"false"},description:"",name:"opened",required:!1,type:{name:"boolean"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ label: string; value: OptionValue; }[]"}},multiple:{defaultValue:{value:"false as Multiple"},description:"",name:"multiple",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"ValidOptionValue | OptionValue[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value?: (Multiple extends true ? OptionValue[] : OptionValue)) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent) => void)"}},float:{defaultValue:{value:"bottom"},description:"",name:"float",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},optionStyle:{defaultValue:null,description:"",name:"optionStyle",required:!1,type:{name:'(Typography & Pick<CSSProperties, "width" | "maxHeight">)'}}}}}catch{}export{M as C,$ as O};
//# sourceMappingURL=index-b757ec3d.js.map
