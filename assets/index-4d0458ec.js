import{j as d}from"./jsx-runtime-94f6e698.js";import{r as a,R as H}from"./index-8db94870.js";import{_ as M}from"./index-d384cd4d.js";import{c as O}from"./index-64131664.js";import"./index-976bee3a.js";import{P as N}from"./index-1fc0ca9a.js";import{b as W,c as A}from"./isObject-9c705d90.js";import{B}from"./index-18098115.js";var F="[object Number]";function V(e){return typeof e=="number"||W(e)&&A(e)==F}function P(){return P=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},P.apply(this,arguments)}function q(e,n){if(e==null)return{};var s=G(e,n),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function G(e,n){if(e==null)return{};var s={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(n.indexOf(o)>=0)&&(s[o]=e[o]);return s}var R=a.forwardRef(function(e,n){var s=e.color,r=s===void 0?"currentColor":s,o=e.size,i=o===void 0?24:o,_=q(e,["color","size"]);return H.createElement("svg",P({ref:n,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},_),H.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),H.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});R.propTypes={color:N.string,size:N.oneOfType([N.string,N.number])};R.displayName="Copy";const J=R,K="_table_zdlhr_461",Q="_header_zdlhr_476",U="_title_zdlhr_482",X="_hovered_zdlhr_490",Y="_row_zdlhr_500",Z="_cell_zdlhr_503",ee="_hidden_zdlhr_546",te="_dragging_zdlhr_568",re="_restoring_zdlhr_573",oe="_fixed_zdlhr_578",ne="_shadow_zdlhr_582",l={table:K,"fade-in":"_fade-in_zdlhr_1",header:Q,title:U,hovered:X,"title-content":"_title-content_zdlhr_494",row:Y,cell:Z,"drop-left":"_drop-left_zdlhr_521","drop-right":"_drop-right_zdlhr_522","cell-content-container":"_cell-content-container_zdlhr_534","hovered-cell-content":"_hovered-cell-content_zdlhr_542",hidden:ee,dragging:te,restoring:re,fixed:oe,shadow:ne,"copy-button-wrap":"_copy-button-wrap_zdlhr_586","fade-out":"_fade-out_zdlhr_1","shake-horizontal":"_shake-horizontal_zdlhr_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_zdlhr_1","slide-in-fwd-center":"_slide-in-fwd-center_zdlhr_1","scale-in-center":"_scale-in-center_zdlhr_1","slide-in-right":"_slide-in-right_zdlhr_1","slide-in-left":"_slide-in-left_zdlhr_1","slide-out-right":"_slide-out-right_zdlhr_1","slide-out-left":"_slide-out-left_zdlhr_1","scale-in-top":"_scale-in-top_zdlhr_1","scale-out-top":"_scale-out-top_zdlhr_1","swing-in-top-fwd":"_swing-in-top-fwd_zdlhr_1","fade-in-top":"_fade-in-top_zdlhr_1","fade-out-top":"_fade-out-top_zdlhr_1","fade-in-bottom":"_fade-in-bottom_zdlhr_1","fade-out-bottom":"_fade-out-bottom_zdlhr_1","scale-out-horizontal":"_scale-out-horizontal_zdlhr_1"},j=a.createContext({tableState:{titles:[]},setTableState:()=>{},fixedTitleCount:0,isLeftScrolled:!1}),le=({className:e,children:n,fixedTitleCount:s})=>{const[r,o]=a.useState({titles:[]}),[i,_]=a.useState(!1),u=a.useMemo(()=>({tableState:r,setTableState:o,fixedTitleCount:s,isLeftScrolled:i}),[s,r,i]);return d.jsx("article",{className:O(`${l.table} ${e}`),onScroll:h=>_(h.currentTarget.scrollLeft>0),children:d.jsx("table",{children:d.jsx(j.Provider,{value:u,children:n})})})},se=({children:e,className:n})=>{const s=a.Children.count(e),{setTableState:r,tableState:{titles:o}}=a.useContext(j);a.useEffect(()=>{r(_=>({..._,titles:Array.from({length:s},(u,h)=>({order:{origin:h,current:h}}))}))},[s,r]);const i=a.Children.toArray(e);return d.jsx("thead",{className:O(`${l.header} ${n}`),children:d.jsx("tr",{children:o.map(({order:{origin:_}})=>i[_])})})},ie=({children:e,width:n,className:s})=>{var z,w;const{tableState:r,setTableState:o,fixedTitleCount:i,isLeftScrolled:_}=a.useContext(j),{titles:u}=r,h=a.useRef(null);a.useEffect(()=>{const{current:t}=h;if(t){const{offsetWidth:y,cellIndex:S}=t;o(T=>(T.titles[S].width=y,{...T}))}},[h,o,n]);const c=((z=h.current)==null?void 0:z.cellIndex)??-1,{draggingOrder:g,hoveredOrder:f,dropOrder:b}=r,v=t=>{g===void 0&&o(y=>({...y,hoveredOrder:t}))},$=()=>{if(V(g)&&c>=0){let t=[...u];const[y]=t.splice(g,1);t=t.sort((D,k)=>D.order.current-k.order.current);const{order:S}=u[c];t=[...t.slice(0,S.current),y,...t.slice(S.current)],t.forEach((D,k)=>{D.order.current=k});const T={...r,titles:t,dropOrder:void 0,draggingOrder:void 0,hoveredOrder:void 0};o(T),setTimeout(()=>o({...T,hoveredOrder:c}))}};let x=0;for(let t=0;t<c;t+=1)x+=((w=u[t])==null?void 0:w.width)??0;const p=b===c,m=g===c,C=c<i,L=c===i-1,E=f===c;return d.jsx("th",{style:{left:x,width:n},className:O(`${l.title} ${C&&l.fixed} ${L&&_&&l.shadow} ${E&&l.hovered} ${p&&(m||((g??0)>b?l["drop-left"]:l["drop-right"]))} ${m&&(p?l.restoring:l.dragging)} 

        } ${m&&(p?l.restoring:l.dragging)} ${s}`),ref:h,draggable:!0,onMouseEnter:()=>v(c),onMouseLeave:()=>v(),onDragOver:t=>t.preventDefault(),onDragStart:()=>o(t=>({...t,draggingOrder:c})),onDragEnter:()=>o(t=>({...t,dropOrder:c})),onDrop:$,children:d.jsx("div",{className:l["title-content"],children:e})})},ae=({children:e,className:n})=>d.jsx("tbody",{className:n,children:e}),de=({children:e,className:n})=>{const{tableState:{titles:s}}=a.useContext(j),r=a.Children.toArray(e);return d.jsx("tr",{className:O(`${l.row} ${n}`),children:s.map(({order:{origin:o}})=>r[o])})},ce=({children:e,onCopy:n,className:s})=>{var z,w;const{tableState:{titles:r,hoveredOrder:o,draggingOrder:i,dropOrder:_},fixedTitleCount:u,isLeftScrolled:h,setTableState:c}=a.useContext(j),g=a.useRef(null),f=((z=g.current)==null?void 0:z.cellIndex)??-1,{width:b}=r[f??0]??{};let v=0;for(let t=0;t<f;t+=1)v+=((w=r[t])==null?void 0:w.width)??0;const[$,x]=a.useState(!1),p=_===f,m=i===f,C=f<u,L=f===u-1,E=o===f;return a.useEffect(()=>c(t=>({...t})),[e,c]),d.jsx("td",{ref:g,style:{left:v},className:O(`${l.cell} ${C&&l.fixed} ${L&&h&&l.shadow} ${E&&l.hovered} ${p&&(m||((i??0)>_?l["drop-left"]:l["drop-right"]))} ${m&&(p?l.restoring:l.dragging)} ${s}`),children:b===void 0?null:d.jsxs("div",{style:{width:b},className:l["cell-content-container"],onMouseEnter:({currentTarget:t})=>{(t.scrollWidth>t.clientWidth||n)&&x(!0)},onMouseLeave:()=>x(!1),children:[$?d.jsx("div",{className:l.hidden,children:e}):e,$?d.jsxs("div",{className:l["hovered-cell-content"],children:[e,n?d.jsx("div",{className:l["copy-button-wrap"],children:d.jsx(B,{className:l["copy-button"],size:"small3x",shape:"round",theme:"bluish-gray700/0",icon:d.jsx(J,{size:14}),onClick:()=>{const t=M(e);navigator.clipboard.writeText(t),n==null||n(t)}})}):null]}):null]})})},I=Object.assign(le,{Header:se,Title:ie,Body:ae,Row:de,Cell:ce});try{I.displayName="Table",I.__docgenInfo={description:"",displayName:"Table",props:{fixedTitleCount:{defaultValue:null,description:"",name:"fixedTitleCount",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{I as T,V as i};
//# sourceMappingURL=index-4d0458ec.js.map
